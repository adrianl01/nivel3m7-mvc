{"mappings":"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","sources":["node_modules/@parcel/runtime-browser-hmr/lib/runtime-f913f7c98e7e8ceb.js","fe-src/index.ts","router.ts","node_modules/@vaadin/router/index.js","node_modules/@vaadin/router/src/router-config.js","node_modules/@vaadin/router/src/triggers/click.js","node_modules/@vaadin/router/src/utils.js","node_modules/@parcel/transformer-js/src/esmodule-helpers.js","node_modules/@vaadin/router/src/triggers/popstate.js","node_modules/@vaadin/router/src/router.js","node_modules/@vaadin/router/node_modules/path-to-regexp/dist.es2015/index.js","node_modules/@vaadin/router/node_modules/path-to-regexp/src/index.ts","node_modules/@vaadin/router/src/resolver/resolver.js","node_modules/@vaadin/router/src/resolver/matchRoute.js","node_modules/@vaadin/router/src/resolver/matchPath.js","node_modules/@vaadin/router/src/resolver/resolveRoute.js","node_modules/@vaadin/router/src/resolver/generateUrls.js","node_modules/@vaadin/router/src/triggers/setNavigationTriggers.js","node_modules/@vaadin/router/src/transitions/animate.js","node_modules/@vaadin/router/src/router-meta.js","node_modules/@vaadin/vaadin-usage-statistics/vaadin-usage-statistics.js","node_modules/@vaadin/vaadin-usage-statistics/vaadin-usage-statistics-collect.js","node_modules/@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js","fe-src/comps/profile/welcome.ts","state.ts","node_modules/dropzone/dist/dropzone.mjs","node_modules/dropzone/dist/src/dropzone.js","node_modules/dropzone/dist/src/emitter.js","node_modules/dropzone/dist/src/options.js","node_modules/dropzone/dist/node_modules/@parcel/runtime-js/lib/bundles/runtime-044f6de40395a564.js","node_modules/just-extend/index.esm.js","fe-src/comps/profile/profiles.ts"],"sourcesContent":["var HMR_HOST = null;var HMR_PORT = null;var HMR_SECURE = false;var HMR_ENV_HASH = \"d6ea1d42532a7575\";var HMR_USE_SSE = false;module.bundle.HMR_BUNDLE_ID = \"3debe5062d8a5a52\";\"use strict\";\n\n/* global HMR_HOST, HMR_PORT, HMR_ENV_HASH, HMR_SECURE, HMR_USE_SSE, chrome, browser, __parcel__import__, __parcel__importScripts__, ServiceWorkerGlobalScope */\n/*::\nimport type {\n  HMRAsset,\n  HMRMessage,\n} from '@parcel/reporter-dev-server/src/HMRServer.js';\ninterface ParcelRequire {\n  (string): mixed;\n  cache: {|[string]: ParcelModule|};\n  hotData: {|[string]: mixed|};\n  Module: any;\n  parent: ?ParcelRequire;\n  isParcelRequire: true;\n  modules: {|[string]: [Function, {|[string]: string|}]|};\n  HMR_BUNDLE_ID: string;\n  root: ParcelRequire;\n}\ninterface ParcelModule {\n  hot: {|\n    data: mixed,\n    accept(cb: (Function) => void): void,\n    dispose(cb: (mixed) => void): void,\n    // accept(deps: Array<string> | string, cb: (Function) => void): void,\n    // decline(): void,\n    _acceptCallbacks: Array<(Function) => void>,\n    _disposeCallbacks: Array<(mixed) => void>,\n  |};\n}\ninterface ExtensionContext {\n  runtime: {|\n    reload(): void,\n    getURL(url: string): string;\n    getManifest(): {manifest_version: number, ...};\n  |};\n}\ndeclare var module: {bundle: ParcelRequire, ...};\ndeclare var HMR_HOST: string;\ndeclare var HMR_PORT: string;\ndeclare var HMR_ENV_HASH: string;\ndeclare var HMR_SECURE: boolean;\ndeclare var HMR_USE_SSE: boolean;\ndeclare var chrome: ExtensionContext;\ndeclare var browser: ExtensionContext;\ndeclare var __parcel__import__: (string) => Promise<void>;\ndeclare var __parcel__importScripts__: (string) => Promise<void>;\ndeclare var globalThis: typeof self;\ndeclare var ServiceWorkerGlobalScope: Object;\n*/\nvar OVERLAY_ID = '__parcel__error__overlay__';\nvar OldModule = module.bundle.Module;\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData[moduleName],\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n  module.bundle.hotData[moduleName] = undefined;\n}\nmodule.bundle.Module = Module;\nmodule.bundle.hotData = {};\nvar checkedAssets /*: {|[string]: boolean|} */, assetsToDispose /*: Array<[ParcelRequire, string]> */, assetsToAccept /*: Array<[ParcelRequire, string]> */;\n\nfunction getHostname() {\n  return HMR_HOST || (location.protocol.indexOf('http') === 0 ? location.hostname : 'localhost');\n}\nfunction getPort() {\n  return HMR_PORT || location.port;\n}\n\n// eslint-disable-next-line no-redeclare\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = getHostname();\n  var port = getPort();\n  var protocol = HMR_SECURE || location.protocol == 'https:' && !['localhost', '127.0.0.1', '0.0.0.0'].includes(hostname) ? 'wss' : 'ws';\n  var ws;\n  if (HMR_USE_SSE) {\n    ws = new EventSource('/__parcel_hmr');\n  } else {\n    try {\n      ws = new WebSocket(protocol + '://' + hostname + (port ? ':' + port : '') + '/');\n    } catch (err) {\n      if (err.message) {\n        console.error(err.message);\n      }\n      ws = {};\n    }\n  }\n\n  // Web extension context\n  var extCtx = typeof browser === 'undefined' ? typeof chrome === 'undefined' ? null : chrome : browser;\n\n  // Safari doesn't support sourceURL in error stacks.\n  // eval may also be disabled via CSP, so do a quick check.\n  var supportsSourceURL = false;\n  try {\n    (0, eval)('throw new Error(\"test\"); //# sourceURL=test.js');\n  } catch (err) {\n    supportsSourceURL = err.stack.includes('test.js');\n  }\n\n  // $FlowFixMe\n  ws.onmessage = async function (event /*: {data: string, ...} */) {\n    checkedAssets = {} /*: {|[string]: boolean|} */;\n    assetsToAccept = [];\n    assetsToDispose = [];\n    var data /*: HMRMessage */ = JSON.parse(event.data);\n    if (data.type === 'update') {\n      // Remove error overlay if there is one\n      if (typeof document !== 'undefined') {\n        removeErrorOverlay();\n      }\n      let assets = data.assets.filter(asset => asset.envHash === HMR_ENV_HASH);\n\n      // Handle HMR Update\n      let handled = assets.every(asset => {\n        return asset.type === 'css' || asset.type === 'js' && hmrAcceptCheck(module.bundle.root, asset.id, asset.depsByBundle);\n      });\n      if (handled) {\n        console.clear();\n\n        // Dispatch custom event so other runtimes (e.g React Refresh) are aware.\n        if (typeof window !== 'undefined' && typeof CustomEvent !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('parcelhmraccept'));\n        }\n        await hmrApplyUpdates(assets);\n\n        // Dispose all old assets.\n        let processedAssets = {} /*: {|[string]: boolean|} */;\n        for (let i = 0; i < assetsToDispose.length; i++) {\n          let id = assetsToDispose[i][1];\n          if (!processedAssets[id]) {\n            hmrDispose(assetsToDispose[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n\n        // Run accept callbacks. This will also re-execute other disposed assets in topological order.\n        processedAssets = {};\n        for (let i = 0; i < assetsToAccept.length; i++) {\n          let id = assetsToAccept[i][1];\n          if (!processedAssets[id]) {\n            hmrAccept(assetsToAccept[i][0], id);\n            processedAssets[id] = true;\n          }\n        }\n      } else fullReload();\n    }\n    if (data.type === 'error') {\n      // Log parcel errors to console\n      for (let ansiDiagnostic of data.diagnostics.ansi) {\n        let stack = ansiDiagnostic.codeframe ? ansiDiagnostic.codeframe : ansiDiagnostic.stack;\n        console.error(' [parcel]: ' + ansiDiagnostic.message + '\\n' + stack + '\\n\\n' + ansiDiagnostic.hints.join('\\n'));\n      }\n      if (typeof document !== 'undefined') {\n        // Render the fancy html overlay\n        removeErrorOverlay();\n        var overlay = createErrorOverlay(data.diagnostics.html);\n        // $FlowFixMe\n        document.body.appendChild(overlay);\n      }\n    }\n  };\n  if (ws instanceof WebSocket) {\n    ws.onerror = function (e) {\n      if (e.message) {\n        console.error(e.message);\n      }\n    };\n    ws.onclose = function () {\n      console.warn('[parcel]  Connection to the HMR server was lost');\n    };\n  }\n}\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n    console.log('[parcel]  Error resolved');\n  }\n}\nfunction createErrorOverlay(diagnostics) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n  let errorHTML = '<div style=\"background: black; opacity: 0.85; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; font-family: Menlo, Consolas, monospace; z-index: 9999;\">';\n  for (let diagnostic of diagnostics) {\n    let stack = diagnostic.frames.length ? diagnostic.frames.reduce((p, frame) => {\n      return `${p}\n<a href=\"/__parcel_launch_editor?file=${encodeURIComponent(frame.location)}\" style=\"text-decoration: underline; color: #888\" onclick=\"fetch(this.href); return false\">${frame.location}</a>\n${frame.code}`;\n    }, '') : diagnostic.stack;\n    errorHTML += `\n      <div>\n        <div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">\n           ${diagnostic.message}\n        </div>\n        <pre>${stack}</pre>\n        <div>\n          ${diagnostic.hints.map(hint => '<div> ' + hint + '</div>').join('')}\n        </div>\n        ${diagnostic.documentation ? `<div> <a style=\"color: violet\" href=\"${diagnostic.documentation}\" target=\"_blank\">Learn more</a></div>` : ''}\n      </div>\n    `;\n  }\n  errorHTML += '</div>';\n  overlay.innerHTML = errorHTML;\n  return overlay;\n}\nfunction fullReload() {\n  if ('reload' in location) {\n    location.reload();\n  } else if (extCtx && extCtx.runtime && extCtx.runtime.reload) {\n    extCtx.runtime.reload();\n  }\n}\nfunction getParents(bundle, id) /*: Array<[ParcelRequire, string]> */{\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n  var parents = [];\n  var k, d, dep;\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || Array.isArray(dep) && dep[dep.length - 1] === id) {\n        parents.push([bundle, k]);\n      }\n    }\n  }\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n  return parents;\n}\nfunction updateLink(link) {\n  var href = link.getAttribute('href');\n  if (!href) {\n    return;\n  }\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    if (link.parentNode !== null) {\n      // $FlowFixMe\n      link.parentNode.removeChild(link);\n    }\n  };\n  newLink.setAttribute('href',\n  // $FlowFixMe\n  href.split('?')[0] + '?' + Date.now());\n  // $FlowFixMe\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      // $FlowFixMe[incompatible-type]\n      var href /*: string */ = links[i].getAttribute('href');\n      var hostname = getHostname();\n      var servedFromHMRServer = hostname === 'localhost' ? new RegExp('^(https?:\\\\/\\\\/(0.0.0.0|127.0.0.1)|localhost):' + getPort()).test(href) : href.indexOf(hostname + ':' + getPort());\n      var absolute = /^https?:\\/\\//i.test(href) && href.indexOf(location.origin) !== 0 && !servedFromHMRServer;\n      if (!absolute) {\n        updateLink(links[i]);\n      }\n    }\n    cssTimeout = null;\n  }, 50);\n}\nfunction hmrDownload(asset) {\n  if (asset.type === 'js') {\n    if (typeof document !== 'undefined') {\n      let script = document.createElement('script');\n      script.src = asset.url + '?t=' + Date.now();\n      if (asset.outputFormat === 'esmodule') {\n        script.type = 'module';\n      }\n      return new Promise((resolve, reject) => {\n        var _document$head;\n        script.onload = () => resolve(script);\n        script.onerror = reject;\n        (_document$head = document.head) === null || _document$head === void 0 || _document$head.appendChild(script);\n      });\n    } else if (typeof importScripts === 'function') {\n      // Worker scripts\n      if (asset.outputFormat === 'esmodule') {\n        return __parcel__import__(asset.url + '?t=' + Date.now());\n      } else {\n        return new Promise((resolve, reject) => {\n          try {\n            __parcel__importScripts__(asset.url + '?t=' + Date.now());\n            resolve();\n          } catch (err) {\n            reject(err);\n          }\n        });\n      }\n    }\n  }\n}\nasync function hmrApplyUpdates(assets) {\n  global.parcelHotUpdate = Object.create(null);\n  let scriptsToRemove;\n  try {\n    // If sourceURL comments aren't supported in eval, we need to load\n    // the update from the dev server over HTTP so that stack traces\n    // are correct in errors/logs. This is much slower than eval, so\n    // we only do it if needed (currently just Safari).\n    // https://bugs.webkit.org/show_bug.cgi?id=137297\n    // This path is also taken if a CSP disallows eval.\n    if (!supportsSourceURL) {\n      let promises = assets.map(asset => {\n        var _hmrDownload;\n        return (_hmrDownload = hmrDownload(asset)) === null || _hmrDownload === void 0 ? void 0 : _hmrDownload.catch(err => {\n          // Web extension fix\n          if (extCtx && extCtx.runtime && extCtx.runtime.getManifest().manifest_version == 3 && typeof ServiceWorkerGlobalScope != 'undefined' && global instanceof ServiceWorkerGlobalScope) {\n            extCtx.runtime.reload();\n            return;\n          }\n          throw err;\n        });\n      });\n      scriptsToRemove = await Promise.all(promises);\n    }\n    assets.forEach(function (asset) {\n      hmrApply(module.bundle.root, asset);\n    });\n  } finally {\n    delete global.parcelHotUpdate;\n    if (scriptsToRemove) {\n      scriptsToRemove.forEach(script => {\n        if (script) {\n          var _document$head2;\n          (_document$head2 = document.head) === null || _document$head2 === void 0 || _document$head2.removeChild(script);\n        }\n      });\n    }\n  }\n}\nfunction hmrApply(bundle /*: ParcelRequire */, asset /*:  HMRAsset */) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (asset.type === 'css') {\n    reloadCSS();\n  } else if (asset.type === 'js') {\n    let deps = asset.depsByBundle[bundle.HMR_BUNDLE_ID];\n    if (deps) {\n      if (modules[asset.id]) {\n        // Remove dependencies that are removed and will become orphaned.\n        // This is necessary so that if the asset is added back again, the cache is gone, and we prevent a full page reload.\n        let oldDeps = modules[asset.id][1];\n        for (let dep in oldDeps) {\n          if (!deps[dep] || deps[dep] !== oldDeps[dep]) {\n            let id = oldDeps[dep];\n            let parents = getParents(module.bundle.root, id);\n            if (parents.length === 1) {\n              hmrDelete(module.bundle.root, id);\n            }\n          }\n        }\n      }\n      if (supportsSourceURL) {\n        // Global eval. We would use `new Function` here but browser\n        // support for source maps is better with eval.\n        (0, eval)(asset.output);\n      }\n\n      // $FlowFixMe\n      let fn = global.parcelHotUpdate[asset.id];\n      modules[asset.id] = [fn, deps];\n    } else if (bundle.parent) {\n      hmrApply(bundle.parent, asset);\n    }\n  }\n}\nfunction hmrDelete(bundle, id) {\n  let modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (modules[id]) {\n    // Collect dependencies that will become orphaned when this module is deleted.\n    let deps = modules[id][1];\n    let orphans = [];\n    for (let dep in deps) {\n      let parents = getParents(module.bundle.root, deps[dep]);\n      if (parents.length === 1) {\n        orphans.push(deps[dep]);\n      }\n    }\n\n    // Delete the module. This must be done before deleting dependencies in case of circular dependencies.\n    delete modules[id];\n    delete bundle.cache[id];\n\n    // Now delete the orphans.\n    orphans.forEach(id => {\n      hmrDelete(module.bundle.root, id);\n    });\n  } else if (bundle.parent) {\n    hmrDelete(bundle.parent, id);\n  }\n}\nfunction hmrAcceptCheck(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  if (hmrAcceptCheckOne(bundle, id, depsByBundle)) {\n    return true;\n  }\n\n  // Traverse parents breadth first. All possible ancestries must accept the HMR update, or we'll reload.\n  let parents = getParents(module.bundle.root, id);\n  let accepted = false;\n  while (parents.length > 0) {\n    let v = parents.shift();\n    let a = hmrAcceptCheckOne(v[0], v[1], null);\n    if (a) {\n      // If this parent accepts, stop traversing upward, but still consider siblings.\n      accepted = true;\n    } else {\n      // Otherwise, queue the parents in the next level upward.\n      let p = getParents(module.bundle.root, v[1]);\n      if (p.length === 0) {\n        // If there are no parents, then we've reached an entry without accepting. Reload.\n        accepted = false;\n        break;\n      }\n      parents.push(...p);\n    }\n  }\n  return accepted;\n}\nfunction hmrAcceptCheckOne(bundle /*: ParcelRequire */, id /*: string */, depsByBundle /*: ?{ [string]: { [string]: string } }*/) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n  if (depsByBundle && !depsByBundle[bundle.HMR_BUNDLE_ID]) {\n    // If we reached the root bundle without finding where the asset should go,\n    // there's nothing to do. Mark as \"accepted\" so we don't reload the page.\n    if (!bundle.parent) {\n      return true;\n    }\n    return hmrAcceptCheck(bundle.parent, id, depsByBundle);\n  }\n  if (checkedAssets[id]) {\n    return true;\n  }\n  checkedAssets[id] = true;\n  var cached = bundle.cache[id];\n  assetsToDispose.push([bundle, id]);\n  if (!cached || cached.hot && cached.hot._acceptCallbacks.length) {\n    assetsToAccept.push([bundle, id]);\n    return true;\n  }\n}\nfunction hmrDispose(bundle /*: ParcelRequire */, id /*: string */) {\n  var cached = bundle.cache[id];\n  bundle.hotData[id] = {};\n  if (cached && cached.hot) {\n    cached.hot.data = bundle.hotData[id];\n  }\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData[id]);\n    });\n  }\n  delete bundle.cache[id];\n}\nfunction hmrAccept(bundle /*: ParcelRequire */, id /*: string */) {\n  // Execute the module.\n  bundle(id);\n\n  // Run the accept callbacks in the new version of the module.\n  var cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      var assetsToAlsoAccept = cb(function () {\n        return getParents(module.bundle.root, id);\n      });\n      if (assetsToAlsoAccept && assetsToAccept.length) {\n        assetsToAlsoAccept.forEach(function (a) {\n          hmrDispose(a[0], a[1]);\n        });\n\n        // $FlowFixMe[method-unbinding]\n        assetsToAccept.push.apply(assetsToAccept, assetsToAlsoAccept);\n      }\n    });\n  }\n}","import \"../router\"\r\n(function () {\r\n\r\n})()","import { Router } from \"@vaadin/router\";\r\nimport \"./fe-src/comps/profile/welcome\"\r\nimport \"./fe-src/comps/profile/profiles\"\r\n\r\nconst root = document.querySelector(\".root\")\r\nconst router = new Router(root);\r\nrouter.setRoutes([\r\n    { path: \"/\", component: \"welc-el\" },\r\n    { path: \"/profiles\", component: \"pro-el\" },\r\n]);","export {Router} from './src/router-config.js';\nexport {default as Resolver} from './src/resolver/resolver.js';\n","import CLICK from './triggers/click.js';\nimport POPSTATE from './triggers/popstate.js';\nimport {Router} from './router.js';\nimport './router-meta.js';\nRouter.NavigationTrigger = {POPSTATE, CLICK};\nexport {Router};\n","import {fireRouterEvent} from '../utils.js';\n\n/* istanbul ignore next: coverage is calculated in Chrome, this code is for IE */\nfunction getAnchorOrigin(anchor) {\n  // IE11: on HTTP and HTTPS the default port is not included into\n  // window.location.origin, so won't include it here either.\n  const port = anchor.port;\n  const protocol = anchor.protocol;\n  const defaultHttp = protocol === 'http:' && port === '80';\n  const defaultHttps = protocol === 'https:' && port === '443';\n  const host = (defaultHttp || defaultHttps)\n    ? anchor.hostname // does not include the port number (e.g. www.example.org)\n    : anchor.host; // does include the port number (e.g. www.example.org:80)\n  return `${protocol}//${host}`;\n}\n\n// The list of checks is not complete:\n//  - SVG support is missing\n//  - the 'rel' attribute is not considered\nfunction vaadinRouterGlobalClickHandler(event) {\n  // ignore the click if the default action is prevented\n  if (event.defaultPrevented) {\n    return;\n  }\n\n  // ignore the click if not with the primary mouse button\n  if (event.button !== 0) {\n    return;\n  }\n\n  // ignore the click if a modifier key is pressed\n  if (event.shiftKey || event.ctrlKey || event.altKey || event.metaKey) {\n    return;\n  }\n\n  // find the <a> element that the click is at (or within)\n  let anchor = event.target;\n  const path = event.composedPath\n    ? event.composedPath()\n    : (event.path || []);\n\n  // FIXME(web-padawan): `Symbol.iterator` used by webcomponentsjs is broken for arrays\n  // example to check: `for...of` loop here throws the \"Not yet implemented\" error\n  for (let i = 0; i < path.length; i++) {\n    const target = path[i];\n    if (target.nodeName && target.nodeName.toLowerCase() === 'a') {\n      anchor = target;\n      break;\n    }\n  }\n\n  while (anchor && anchor.nodeName.toLowerCase() !== 'a') {\n    anchor = anchor.parentNode;\n  }\n\n  // ignore the click if not at an <a> element\n  if (!anchor || anchor.nodeName.toLowerCase() !== 'a') {\n    return;\n  }\n\n  // ignore the click if the <a> element has a non-default target\n  if (anchor.target && anchor.target.toLowerCase() !== '_self') {\n    return;\n  }\n\n  // ignore the click if the <a> element has the 'download' attribute\n  if (anchor.hasAttribute('download')) {\n    return;\n  }\n\n  // ignore the click if the <a> element has the 'router-ignore' attribute\n  if (anchor.hasAttribute('router-ignore')) {\n    return;\n  }\n\n  // ignore the click if the target URL is a fragment on the current page\n  if (anchor.pathname === window.location.pathname && anchor.hash !== '') {\n    return;\n  }\n\n  // ignore the click if the target is external to the app\n  // In IE11 HTMLAnchorElement does not have the `origin` property\n  const origin = anchor.origin || getAnchorOrigin(anchor);\n  if (origin !== window.location.origin) {\n    return;\n  }\n\n  // if none of the above, convert the click into a navigation event\n  const {pathname, search, hash} = anchor;\n  if (fireRouterEvent('go', {pathname, search, hash})) {\n    event.preventDefault();\n    // for a click event, the scroll is reset to the top position.\n    if (event && event.type === 'click') {\n      window.scrollTo(0, 0);\n    }\n  }\n}\n\n/**\n * A navigation trigger for Vaadin Router that translated clicks on `<a>` links\n * into Vaadin Router navigation events.\n *\n * Only regular clicks on in-app links are translated (primary mouse button, no\n * modifier keys, the target href is within the app's URL space).\n *\n * @memberOf Router.NavigationTrigger\n * @type {NavigationTrigger}\n */\nconst CLICK = {\n  activate() {\n    window.document.addEventListener('click', vaadinRouterGlobalClickHandler);\n  },\n\n  inactivate() {\n    window.document.removeEventListener('click', vaadinRouterGlobalClickHandler);\n  }\n};\n\nexport default CLICK;\n","export function toArray(objectOrArray) {\n  objectOrArray = objectOrArray || [];\n  return Array.isArray(objectOrArray) ? objectOrArray : [objectOrArray];\n}\n\nexport function log(msg) {\n  return `[Vaadin.Router] ${msg}`;\n}\n\nexport function logValue(value) {\n  if (typeof value !== 'object') {\n    return String(value);\n  }\n\n  const stringType = Object.prototype.toString.call(value).match(/ (.*)\\]$/)[1];\n  if (stringType === 'Object' || stringType === 'Array') {\n    return `${stringType} ${JSON.stringify(value)}`;\n  } else {\n    return stringType;\n  }\n}\n\nexport function ensureRoute(route) {\n  if (!route || !isString(route.path)) {\n    throw new Error(\n      log(`Expected route config to be an object with a \"path\" string property, or an array of such objects`)\n    );\n  }\n\n  const stringKeys = ['component', 'redirect'];\n  if (\n    !isFunction(route.action) &&\n    !Array.isArray(route.children) &&\n    !isFunction(route.children) &&\n    !stringKeys.some(key => isString(route[key]))\n  ) {\n    throw new Error(\n      log(\n        `Expected route config \"${route.path}\" to include either \"${stringKeys.join('\", \"')}\" ` +\n        `or \"action\" function but none found.`\n      )\n    );\n  }\n\n  if (route.redirect) {\n    ['component'].forEach(overriddenProp => {\n      if (overriddenProp in route) {\n        console.warn(\n          log(\n            `Route config \"${route.path}\" has both \"redirect\" and \"${overriddenProp}\" properties, ` +\n            `and \"redirect\" will always override the latter. Did you mean to only use \"${overriddenProp}\"?`\n          )\n        );\n      }\n    });\n  }\n}\n\nexport function ensureRoutes(routes) {\n  toArray(routes).forEach(route => ensureRoute(route));\n}\n\nexport function fireRouterEvent(type, detail) {\n  return !window.dispatchEvent(new CustomEvent(\n    `vaadin-router-${type}`,\n    {cancelable: type === 'go', detail}\n  ));\n}\n\nexport function isObject(o) {\n  // guard against null passing the typeof check\n  return typeof o === 'object' && !!o;\n}\n\nexport function isFunction(f) {\n  return typeof f === 'function';\n}\n\nexport function isString(s) {\n  return typeof s === 'string';\n}\n\nexport function getNotFoundError(context) {\n  const error = new Error(log(`Page not found (${context.pathname})`));\n  error.context = context;\n  error.code = 404;\n  return error;\n}\n\nexport const notFoundResult = new (class NotFoundResult {})();\n","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (\n      key === 'default' ||\n      key === '__esModule' ||\n      Object.prototype.hasOwnProperty.call(dest, key)\n    ) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n","import {fireRouterEvent, isFunction} from '../utils.js';\n\n// PopStateEvent constructor shim\nconst isIE = /Trident/.test(navigator.userAgent);\n\n/* istanbul ignore next: coverage is calculated in Chrome, this code is for IE */\nif (isIE && !isFunction(window.PopStateEvent)) {\n  window.PopStateEvent = function(inType, params) {\n    params = params || {};\n    var e = document.createEvent('Event');\n    e.initEvent(inType, Boolean(params.bubbles), Boolean(params.cancelable));\n    e.state = params.state || null;\n    return e;\n  };\n  window.PopStateEvent.prototype = window.Event.prototype;\n}\n\nfunction vaadinRouterGlobalPopstateHandler(event) {\n  if (event.state === 'vaadin-router-ignore') {\n    return;\n  }\n  const {pathname, search, hash} = window.location;\n  fireRouterEvent('go', {pathname, search, hash});\n}\n\n/**\n * A navigation trigger for Vaadin Router that translates popstate events into\n * Vaadin Router navigation events.\n *\n * @memberOf Router.NavigationTrigger\n * @type {NavigationTrigger}\n */\nconst POPSTATE = {\n  activate() {\n    window.addEventListener('popstate', vaadinRouterGlobalPopstateHandler);\n  },\n\n  inactivate() {\n    window.removeEventListener('popstate', vaadinRouterGlobalPopstateHandler);\n  }\n};\n\nexport default POPSTATE;\n","import {compile} from 'path-to-regexp';\nimport Resolver from './resolver/resolver.js';\nimport generateUrls from './resolver/generateUrls.js';\nimport setNavigationTriggers from './triggers/setNavigationTriggers.js';\nimport animate from './transitions/animate.js';\nimport {\n  ensureRoute,\n  fireRouterEvent,\n  log,\n  logValue,\n  toArray,\n  isFunction,\n  isString,\n  isObject,\n  getNotFoundError,\n  notFoundResult\n} from './utils.js';\n\nconst MAX_REDIRECT_COUNT = 256;\n\nfunction isResultNotEmpty(result) {\n  return result !== null && result !== undefined;\n}\n\nfunction copyContextWithoutNext(context) {\n  const copy = Object.assign({}, context);\n  delete copy.next;\n  return copy;\n}\n\nfunction createLocation({pathname = '', search = '', hash = '', chain = [], params = {}, redirectFrom, resolver}, route) {\n  const routes = chain.map(item => item.route);\n  return {\n    baseUrl: resolver && resolver.baseUrl || '',\n    pathname,\n    search,\n    hash,\n    routes,\n    route: route || routes.length && routes[routes.length - 1] || null,\n    params,\n    redirectFrom,\n    searchParams: new URLSearchParams(search),\n    getUrl: (userParams = {}) => getPathnameForRouter(\n      compile(\n        getMatchedPath(routes)\n      )(Object.assign({}, params, userParams)),\n      resolver\n    )\n  };\n}\n\nfunction createRedirect(context, pathname) {\n  const params = Object.assign({}, context.params);\n  return {\n    redirect: {\n      pathname,\n      from: context.pathname,\n      params\n    }\n  };\n}\n\nfunction renderElement(context, element) {\n  element.location = createLocation(context);\n  const index = context.chain.map(item => item.route).indexOf(context.route);\n  context.chain[index].element = element;\n  return element;\n}\n\nfunction runCallbackIfPossible(callback, args, thisArg) {\n  if (isFunction(callback)) {\n    return callback.apply(thisArg, args);\n  }\n}\n\nfunction amend(amendmentFunction, args, element) {\n  return amendmentResult => {\n    if (amendmentResult && (amendmentResult.cancel || amendmentResult.redirect)) {\n      return amendmentResult;\n    }\n\n    if (element) {\n      return runCallbackIfPossible(element[amendmentFunction], args, element);\n    }\n  };\n}\n\nfunction processNewChildren(newChildren, route) {\n  if (!Array.isArray(newChildren) && !isObject(newChildren)) {\n    throw new Error(\n      log(\n        `Incorrect \"children\" value for the route ${route.path}: expected array or object, but got ${newChildren}`\n      )\n    );\n  }\n\n  route.__children = [];\n  const childRoutes = toArray(newChildren);\n  for (let i = 0; i < childRoutes.length; i++) {\n    ensureRoute(childRoutes[i]);\n    route.__children.push(childRoutes[i]);\n  }\n}\n\nfunction getPathnameForRouter(pathname, router) {\n  const base = router.__effectiveBaseUrl;\n  return base\n    ? router.constructor.__createUrl(pathname.replace(/^\\//, ''), base).pathname\n    : pathname;\n}\n\nfunction getMatchedPath(chain) {\n  return chain.map(item => item.path).reduce((a, b) => {\n    if (b.length) {\n      return a.replace(/\\/$/, '') + '/' + b.replace(/^\\//, '');\n    }\n    return a;\n  }, '');\n}\n\n/**\n * A simple client-side router for single-page applications. It uses\n * express-style middleware and has a first-class support for Web Components and\n * lazy-loading. Works great in Polymer and non-Polymer apps.\n *\n * Use `new Router(outlet, options)` to create a new Router instance.\n *\n * * The `outlet` parameter is a reference to the DOM node to render\n *   the content into.\n *\n * * The `options` parameter is an optional object with options. The following\n *   keys are supported:\n *   * `baseUrl`  the initial value for [\n *     the `baseUrl` property\n *   ](#/classes/Router#property-baseUrl)\n *\n * The Router instance is automatically subscribed to navigation events\n * on `window`.\n *\n * See [Live Examples](#/classes/Router/demos/demo/index.html) for the detailed usage demo and code snippets.\n *\n * See also detailed API docs for the following methods, for the advanced usage:\n *\n * * [setOutlet](#/classes/Router#method-setOutlet)  should be used to configure the outlet.\n * * [setTriggers](#/classes/Router#method-setTriggers)  should be used to configure the navigation events.\n * * [setRoutes](#/classes/Router#method-setRoutes)  should be used to configure the routes.\n *\n * Only `setRoutes` has to be called manually, others are automatically invoked when creating a new instance.\n *\n * @extends Resolver\n * @demo demo/index.html\n * @summary JavaScript class that renders different DOM content depending on\n *    a given path. It can re-render when triggered or automatically on\n *    'popstate' and / or 'click' events.\n */\nexport class Router extends Resolver {\n\n  /**\n   * Creates a new Router instance with a given outlet, and\n   * automatically subscribes it to navigation events on the `window`.\n   * Using a constructor argument or a setter for outlet is equivalent:\n   *\n   * ```\n   * const router = new Router();\n   * router.setOutlet(outlet);\n   * ```\n   * @param {?Node=} outlet\n   * @param {?RouterOptions=} options\n   */\n  constructor(outlet, options) {\n    const baseElement = document.head.querySelector('base');\n    const baseHref = baseElement && baseElement.getAttribute('href');\n    super([], Object.assign({\n      // Default options\n      baseUrl: baseHref && Resolver.__createUrl(baseHref, document.URL).href.replace(/[^/]*$/, '')\n    }, options));\n\n    this.resolveRoute = context => this.__resolveRoute(context);\n\n    const triggers = Router.NavigationTrigger;\n    Router.setTriggers.apply(Router, Object.keys(triggers).map(key => triggers[key]));\n\n    /**\n     * The base URL for all routes in the router instance. By default,\n     * if the base element exists in the `<head>`, vaadin-router\n     * takes the `<base href>` attribute value, resolved against the current\n     * `document.URL`.\n     *\n     * @public\n     * @type {string}\n     */\n    this.baseUrl;\n\n    /**\n     * A promise that is settled after the current render cycle completes. If\n     * there is no render cycle in progress the promise is immediately settled\n     * with the last render cycle result.\n     *\n     * @public\n     * @type {!Promise<!RouterLocation>}\n     */\n    this.ready;\n    this.ready = Promise.resolve(outlet);\n\n    /**\n     * Contains read-only information about the current router location:\n     * pathname, active routes, parameters. See the\n     * [Location type declaration](#/classes/RouterLocation)\n     * for more details.\n     *\n     * @public\n     * @type {!RouterLocation}\n     */\n    this.location;\n    this.location = createLocation({resolver: this});\n\n    this.__lastStartedRenderId = 0;\n    this.__navigationEventHandler = this.__onNavigationEvent.bind(this);\n    this.setOutlet(outlet);\n    this.subscribe();\n    // Using WeakMap instead of WeakSet because WeakSet is not supported by IE11\n    this.__createdByRouter = new WeakMap();\n    this.__addedByRouter = new WeakMap();\n  }\n\n  __resolveRoute(context) {\n    const route = context.route;\n\n    let callbacks = Promise.resolve();\n\n    if (isFunction(route.children)) {\n      callbacks = callbacks\n        .then(() => route.children(copyContextWithoutNext(context)))\n        .then(children => {\n          // The route.children() callback might have re-written the\n          // route.children property instead of returning a value\n          if (!isResultNotEmpty(children) && !isFunction(route.children)) {\n            children = route.children;\n          }\n          processNewChildren(children, route);\n        });\n    }\n\n    const commands = {\n      redirect: path => createRedirect(context, path),\n      component: (component) => {\n        const element = document.createElement(component);\n        this.__createdByRouter.set(element, true);\n        return element;\n      }\n    };\n\n    return callbacks\n      .then(() => {\n        if (this.__isLatestRender(context)) {\n          return runCallbackIfPossible(route.action, [context, commands], route);\n        }\n      })\n      .then(result => {\n        if (isResultNotEmpty(result)) {\n          // Actions like `() => import('my-view.js')` are not expected to\n          // end the resolution, despite the result is not empty. Checking\n          // the result with a whitelist of values that end the resolution.\n          if (result instanceof HTMLElement ||\n              result.redirect ||\n              result === notFoundResult) {\n            return result;\n          }\n        }\n\n        if (isString(route.redirect)) {\n          return commands.redirect(route.redirect);\n        }\n      })\n      .then(result => {\n        if (isResultNotEmpty(result)) {\n          return result;\n        }\n        if (isString(route.component)) {\n          return commands.component(route.component);\n        }\n      });\n  }\n\n  /**\n   * Sets the router outlet (the DOM node where the content for the current\n   * route is inserted). Any content pre-existing in the router outlet is\n   * removed at the end of each render pass.\n   *\n   * NOTE: this method is automatically invoked first time when creating a new Router instance.\n   *\n   * @param {?Node} outlet the DOM node where the content for the current route\n   *     is inserted.\n   */\n  setOutlet(outlet) {\n    if (outlet) {\n      this.__ensureOutlet(outlet);\n    }\n    this.__outlet = outlet;\n  }\n\n  /**\n   * Returns the current router outlet. The initial value is `undefined`.\n   *\n   * @return {?Node} the current router outlet (or `undefined`)\n   */\n  getOutlet() {\n    return this.__outlet;\n  }\n\n  /**\n   * Sets the routing config (replacing the existing one) and triggers a\n   * navigation event so that the router outlet is refreshed according to the\n   * current `window.location` and the new routing config.\n   *\n   * Each route object may have the following properties, listed here in the processing order:\n   * * `path`  the route path (relative to the parent route if any) in the\n   * [express.js syntax](https://expressjs.com/en/guide/routing.html#route-paths\").\n   *\n   * * `children`  an array of nested routes or a function that provides this\n   * array at the render time. The function can be synchronous or asynchronous:\n   * in the latter case the render is delayed until the returned promise is\n   * resolved. The `children` function is executed every time when this route is\n   * being rendered. This allows for dynamic route structures (e.g. backend-defined),\n   * but it might have a performance impact as well. In order to avoid calling\n   * the function on subsequent renders, you can override the `children` property\n   * of the route object and save the calculated array there\n   * (via `context.route.children = [ route1, route2, ...];`).\n   * Parent routes are fully resolved before resolving the children. Children\n   * 'path' values are relative to the parent ones.\n   *\n   * * `action`  the action that is executed before the route is resolved.\n   * The value for this property should be a function, accepting `context`\n   * and `commands` parameters described below. If present, this function is\n   * always invoked first, disregarding of the other properties' presence.\n   * The action can return a result directly or within a `Promise`, which\n   * resolves to the result. If the action result is an `HTMLElement` instance,\n   * a `commands.component(name)` result, a `commands.redirect(path)` result,\n   * or a `context.next()` result, the current route resolution is finished,\n   * and other route config properties are ignored.\n   * See also **Route Actions** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `redirect`  other route's path to redirect to. Passes all route parameters to the redirect target.\n   * The target route should also be defined.\n   * See also **Redirects** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * * `component`  the tag name of the Web Component to resolve the route to.\n   * The property is ignored when either an `action` returns the result or `redirect` property is present.\n   * If route contains the `component` property (or an action that return a component)\n   * and its child route also contains the `component` property, child route's component\n   * will be rendered as a light dom child of a parent component.\n   *\n   * * `name`  the string name of the route to use in the\n   * [`router.urlForName(name, params)`](#/classes/Router#method-urlForName)\n   * navigation helper method.\n   *\n   * For any route function (`action`, `children`) defined, the corresponding `route` object is available inside the callback\n   * through the `this` reference. If you need to access it, make sure you define the callback as a non-arrow function\n   * because arrow functions do not have their own `this` reference.\n   *\n   * `context` object that is passed to `action` function holds the following properties:\n   * * `context.pathname`  string with the pathname being resolved\n   *\n   * * `context.search`  search query string\n   *\n   * * `context.hash`  hash string\n   *\n   * * `context.params`  object with route parameters\n   *\n   * * `context.route`  object that holds the route that is currently being rendered.\n   *\n   * * `context.next()`  function for asynchronously getting the next route\n   * contents from the resolution chain (if any)\n   *\n   * `commands` object that is passed to `action` function has\n   * the following methods:\n   *\n   * * `commands.redirect(path)`  function that creates a redirect data\n   * for the path specified.\n   *\n   * * `commands.component(component)`  function that creates a new HTMLElement\n   * with current context. Note: the component created by this function is reused if visiting the same path twice in row.\n   *\n   *\n   * @param {!Array<!Route>|!Route} routes a single route or an array of those\n   * @param {?boolean} skipRender configure the router but skip rendering the\n   *     route corresponding to the current `window.location` values\n   *\n   * @return {!Promise<!Node>}\n   */\n  setRoutes(routes, skipRender = false) {\n    this.__previousContext = undefined;\n    this.__urlForName = undefined;\n    super.setRoutes(routes);\n    if (!skipRender) {\n      this.__onNavigationEvent();\n    }\n    return this.ready;\n  }\n\n  /**\n   * Asynchronously resolves the given pathname and renders the resolved route\n   * component into the router outlet. If no router outlet is set at the time of\n   * calling this method, or at the time when the route resolution is completed,\n   * a `TypeError` is thrown.\n   *\n   * Returns a promise that is fulfilled with the router outlet DOM Node after\n   * the route component is created and inserted into the router outlet, or\n   * rejected if no route matches the given path.\n   *\n   * If another render pass is started before the previous one is completed, the\n   * result of the previous render pass is ignored.\n   *\n   * @param {!string|!{pathname: !string, search: ?string, hash: ?string}} pathnameOrContext\n   *    the pathname to render or a context object with a `pathname` property,\n   *    optional `search` and `hash` properties, and other properties\n   *    to pass to the resolver.\n   * @param {boolean=} shouldUpdateHistory\n   *    update browser history with the rendered location\n   * @return {!Promise<!Node>}\n   */\n  render(pathnameOrContext, shouldUpdateHistory) {\n    const renderId = ++this.__lastStartedRenderId;\n    const context = Object.assign(\n      {\n        search: '',\n        hash: ''\n      },\n      isString(pathnameOrContext)\n        ? {pathname: pathnameOrContext}\n        : pathnameOrContext,\n      {\n        __renderId: renderId\n      }\n    );\n\n    // Find the first route that resolves to a non-empty result\n    this.ready = this.resolve(context)\n\n      // Process the result of this.resolve() and handle all special commands:\n      // (redirect / prevent / component). If the result is a 'component',\n      // then go deeper and build the entire chain of nested components matching\n      // the pathname. Also call all 'on before' callbacks along the way.\n      .then(context => this.__fullyResolveChain(context))\n\n      .then(context => {\n        if (this.__isLatestRender(context)) {\n          const previousContext = this.__previousContext;\n\n          // Check if the render was prevented and make an early return in that case\n          if (context === previousContext) {\n            // Replace the history with the previous context\n            // to make sure the URL stays the same.\n            this.__updateBrowserHistory(previousContext, true);\n            return this.location;\n          }\n\n          this.location = createLocation(context);\n\n          if (shouldUpdateHistory) {\n            // Replace only if first render redirects, so that we dont leave\n            // the redirecting record in the history\n            this.__updateBrowserHistory(context, renderId === 1);\n          }\n\n          fireRouterEvent('location-changed', {router: this, location: this.location});\n\n          // Skip detaching/re-attaching there are no render changes\n          if (context.__skipAttach) {\n            this.__copyUnchangedElements(context, previousContext);\n            this.__previousContext = context;\n            return this.location;\n          }\n\n          this.__addAppearingContent(context, previousContext);\n          const animationDone = this.__animateIfNeeded(context);\n\n          this.__runOnAfterEnterCallbacks(context);\n          this.__runOnAfterLeaveCallbacks(context, previousContext);\n\n          return animationDone.then(() => {\n            if (this.__isLatestRender(context)) {\n              // If there is another render pass started after this one,\n              // the 'disappearing content' would be removed when the other\n              // render pass calls `this.__addAppearingContent()`\n              this.__removeDisappearingContent();\n\n              this.__previousContext = context;\n              return this.location;\n            }\n          });\n        }\n      })\n      .catch(error => {\n        if (renderId === this.__lastStartedRenderId) {\n          if (shouldUpdateHistory) {\n            this.__updateBrowserHistory(context);\n          }\n          Router.__removeDomNodes(this.__outlet && this.__outlet.children);\n          this.location = createLocation(Object.assign(context, {resolver: this}));\n          fireRouterEvent('error', Object.assign({router: this, error}, context));\n          throw error;\n        }\n      });\n    return this.ready;\n  }\n\n  // `topOfTheChainContextBeforeRedirects` is a context coming from Resolver.resolve().\n  // It would contain a 'redirect' route or the first 'component' route that\n  // matched the pathname. There might be more child 'component' routes to be\n  // resolved and added into the chain. This method would find and add them.\n  // `contextBeforeRedirects` is the context containing such a child component\n  // route. It's only necessary when this method is called recursively (otherwise\n  // it's the same as the 'top of the chain' context).\n  //\n  // Apart from building the chain of child components, this method would also\n  // handle 'redirect' routes, call 'onBefore' callbacks and handle 'prevent'\n  // and 'redirect' callback results.\n  __fullyResolveChain(topOfTheChainContextBeforeRedirects,\n    contextBeforeRedirects = topOfTheChainContextBeforeRedirects) {\n    return this.__findComponentContextAfterAllRedirects(contextBeforeRedirects)\n      // `contextAfterRedirects` is always a context with an `HTMLElement` result\n      // In other cases the promise gets rejected and .then() is not called\n      .then(contextAfterRedirects => {\n        const redirectsHappened = contextAfterRedirects !== contextBeforeRedirects;\n        const topOfTheChainContextAfterRedirects =\n          redirectsHappened ? contextAfterRedirects : topOfTheChainContextBeforeRedirects;\n\n        const matchedPath = getPathnameForRouter(\n          getMatchedPath(contextAfterRedirects.chain),\n          contextAfterRedirects.resolver\n        );\n        const isFound = (matchedPath === contextAfterRedirects.pathname);\n\n        // Recursive method to try matching more child and sibling routes\n        const findNextContextIfAny = (context, parent = context.route, prevResult) => {\n          return context.next(undefined, parent, prevResult).then(nextContext => {\n            if (nextContext === null || nextContext === notFoundResult) {\n              // Next context is not found in children, ...\n              if (isFound) {\n                // ...but original context is already fully matching - use it\n                return context;\n              } else if (parent.parent !== null) {\n                // ...and there is no full match yet - step up to check siblings\n                return findNextContextIfAny(context, parent.parent, nextContext);\n              } else {\n                return nextContext;\n              }\n            }\n\n            return nextContext;\n          });\n        };\n\n        return findNextContextIfAny(contextAfterRedirects).then(nextContext => {\n          if (nextContext === null || nextContext === notFoundResult) {\n            throw getNotFoundError(topOfTheChainContextAfterRedirects);\n          }\n\n          return nextContext\n          && nextContext !== notFoundResult\n          && nextContext !== contextAfterRedirects\n            ? this.__fullyResolveChain(topOfTheChainContextAfterRedirects, nextContext)\n            : this.__amendWithOnBeforeCallbacks(contextAfterRedirects);\n        });\n      });\n  }\n\n  __findComponentContextAfterAllRedirects(context) {\n    const result = context.result;\n    if (result instanceof HTMLElement) {\n      renderElement(context, result);\n      return Promise.resolve(context);\n    } else if (result.redirect) {\n      return this.__redirect(result.redirect, context.__redirectCount, context.__renderId)\n        .then(context => this.__findComponentContextAfterAllRedirects(context));\n    } else if (result instanceof Error) {\n      return Promise.reject(result);\n    } else {\n      return Promise.reject(\n        new Error(\n          log(\n            `Invalid route resolution result for path \"${context.pathname}\". ` +\n            `Expected redirect object or HTML element, but got: \"${logValue(result)}\". ` +\n            `Double check the action return value for the route.`\n          )\n        ));\n    }\n  }\n\n  __amendWithOnBeforeCallbacks(contextWithFullChain) {\n    return this.__runOnBeforeCallbacks(contextWithFullChain).then(amendedContext => {\n      if (amendedContext === this.__previousContext || amendedContext === contextWithFullChain) {\n        return amendedContext;\n      }\n      return this.__fullyResolveChain(amendedContext);\n    });\n  }\n\n  __runOnBeforeCallbacks(newContext) {\n    const previousContext = this.__previousContext || {};\n    const previousChain = previousContext.chain || [];\n    const newChain = newContext.chain;\n\n    let callbacks = Promise.resolve();\n    const prevent = () => ({cancel: true});\n    const redirect = (pathname) => createRedirect(newContext, pathname);\n\n    newContext.__divergedChainIndex = 0;\n    newContext.__skipAttach = false;\n    if (previousChain.length) {\n      for (let i = 0; i < Math.min(previousChain.length, newChain.length); i = ++newContext.__divergedChainIndex) {\n        if (previousChain[i].route !== newChain[i].route\n          || previousChain[i].path !== newChain[i].path && previousChain[i].element !== newChain[i].element\n          || !this.__isReusableElement(previousChain[i].element, newChain[i].element)) {\n          break;\n        }\n      }\n\n      // Skip re-attaching and notifications if element and chain do not change\n      newContext.__skipAttach =\n        // Same route chain\n        newChain.length === previousChain.length && newContext.__divergedChainIndex == newChain.length &&\n        // Same element\n        this.__isReusableElement(newContext.result, previousContext.result);\n\n      if (newContext.__skipAttach) {\n        // execute onBeforeLeave for changed segment element when skipping attach\n        for (let i = newChain.length - 1; i >= 0; i--) {\n          callbacks = this.__runOnBeforeLeaveCallbacks(callbacks, newContext, {prevent}, previousChain[i]);\n        }\n        // execute onBeforeEnter for changed segment element when skipping attach\n        for (let i = 0; i < newChain.length; i++) {\n          callbacks = this.__runOnBeforeEnterCallbacks(callbacks, newContext, {prevent, redirect}, newChain[i]);\n          previousChain[i].element.location = createLocation(newContext, previousChain[i].route);\n        }\n\n      } else {\n        // execute onBeforeLeave when NOT skipping attach\n        for (let i = previousChain.length - 1; i >= newContext.__divergedChainIndex; i--) {\n          callbacks = this.__runOnBeforeLeaveCallbacks(callbacks, newContext, {prevent}, previousChain[i]);\n        }\n      }\n    }\n    // execute onBeforeEnter when NOT skipping attach\n    if (!newContext.__skipAttach) {\n      for (let i = 0; i < newChain.length; i++) {\n        if (i < newContext.__divergedChainIndex) {\n          if (i < previousChain.length && previousChain[i].element) {\n            previousChain[i].element.location = createLocation(newContext, previousChain[i].route);\n          }\n        } else {\n          callbacks = this.__runOnBeforeEnterCallbacks(callbacks, newContext, {prevent, redirect}, newChain[i]);\n          if (newChain[i].element) {\n            newChain[i].element.location = createLocation(newContext, newChain[i].route);\n          }\n        }\n      }\n    }\n    return callbacks.then(amendmentResult => {\n      if (amendmentResult) {\n        if (amendmentResult.cancel) {\n          this.__previousContext.__renderId = newContext.__renderId;\n          return this.__previousContext;\n        }\n        if (amendmentResult.redirect) {\n          return this.__redirect(amendmentResult.redirect, newContext.__redirectCount, newContext.__renderId);\n        }\n      }\n      return newContext;\n    });\n  }\n\n  __runOnBeforeLeaveCallbacks(callbacks, newContext, commands, chainElement) {\n    const location = createLocation(newContext);\n    return callbacks.then(result => {\n      if (this.__isLatestRender(newContext)) {\n        const afterLeaveFunction = amend('onBeforeLeave', [location, commands, this], chainElement.element);\n        return afterLeaveFunction(result);\n      }\n    }).then(result => {\n      if (!(result || {}).redirect) {\n        return result;\n      }\n    });\n  }\n\n  __runOnBeforeEnterCallbacks(callbacks, newContext, commands, chainElement) {\n    const location = createLocation(newContext, chainElement.route);\n    return callbacks.then(result => {\n      if (this.__isLatestRender(newContext)) {\n        const beforeEnterFunction = amend('onBeforeEnter', [location, commands, this], chainElement.element);\n        return beforeEnterFunction(result);\n      }\n    });\n  }\n\n  __isReusableElement(element, otherElement) {\n    if (element && otherElement) {\n      return this.__createdByRouter.get(element) && this.__createdByRouter.get(otherElement)\n        ? element.localName === otherElement.localName\n        : element === otherElement;\n    }\n    return false;\n  }\n\n  __isLatestRender(context) {\n    return context.__renderId === this.__lastStartedRenderId;\n  }\n\n  __redirect(redirectData, counter, renderId) {\n    if (counter > MAX_REDIRECT_COUNT) {\n      throw new Error(log(`Too many redirects when rendering ${redirectData.from}`));\n    }\n\n    return this.resolve({\n      pathname: this.urlForPath(\n        redirectData.pathname,\n        redirectData.params\n      ),\n      redirectFrom: redirectData.from,\n      __redirectCount: (counter || 0) + 1,\n      __renderId: renderId\n    });\n  }\n\n  __ensureOutlet(outlet = this.__outlet) {\n    if (!(outlet instanceof Node)) {\n      throw new TypeError(log(`Expected router outlet to be a valid DOM Node (but got ${outlet})`));\n    }\n  }\n\n  __updateBrowserHistory({pathname, search = '', hash = ''}, replace) {\n    if (window.location.pathname !== pathname\n        || window.location.search !== search\n        || window.location.hash !== hash\n    ) {\n      const changeState = replace ? 'replaceState' : 'pushState';\n      window.history[changeState](null, document.title, pathname + search + hash);\n      window.dispatchEvent(new PopStateEvent('popstate', {state: 'vaadin-router-ignore'}));\n    }\n  }\n\n  __copyUnchangedElements(context, previousContext) {\n    // Find the deepest common parent between the last and the new component\n    // chains. Update references for the unchanged elements in the new chain\n    let deepestCommonParent = this.__outlet;\n    for (let i = 0; i < context.__divergedChainIndex; i++) {\n      const unchangedElement = previousContext && previousContext.chain[i].element;\n      if (unchangedElement) {\n        if (unchangedElement.parentNode === deepestCommonParent) {\n          context.chain[i].element = unchangedElement;\n          deepestCommonParent = unchangedElement;\n        } else {\n          break;\n        }\n      }\n    }\n    return deepestCommonParent;\n  }\n\n  __addAppearingContent(context, previousContext) {\n    this.__ensureOutlet();\n\n    // If the previous 'entering' animation has not completed yet,\n    // stop it and remove that content from the DOM before adding new one.\n    this.__removeAppearingContent();\n\n    // Copy reusable elements from the previousContext to current\n    const deepestCommonParent = this.__copyUnchangedElements(context, previousContext);\n\n    // Keep two lists of DOM elements:\n    //  - those that should be removed once the transition animation is over\n    //  - and those that should remain\n    this.__appearingContent = [];\n    this.__disappearingContent = Array\n      .from(deepestCommonParent.children)\n      .filter(\n        // Only remove layout content that was added by router\n        e => this.__addedByRouter.get(e) &&\n        // Do not remove the result element to avoid flickering\n        e !== context.result);\n\n    // Add new elements (starting after the deepest common parent) to the DOM.\n    // That way only the components that are actually different between the two\n    // locations are added to the DOM (and those that are common remain in the\n    // DOM without first removing and then adding them again).\n    let parentElement = deepestCommonParent;\n    for (let i = context.__divergedChainIndex; i < context.chain.length; i++) {\n      const elementToAdd = context.chain[i].element;\n      if (elementToAdd) {\n        parentElement.appendChild(elementToAdd);\n        this.__addedByRouter.set(elementToAdd, true);\n        if (parentElement === deepestCommonParent) {\n          this.__appearingContent.push(elementToAdd);\n        }\n        parentElement = elementToAdd;\n      }\n    }\n  }\n\n  __removeDisappearingContent() {\n    if (this.__disappearingContent) {\n      Router.__removeDomNodes(this.__disappearingContent);\n    }\n    this.__disappearingContent = null;\n    this.__appearingContent = null;\n  }\n\n  __removeAppearingContent() {\n    if (this.__disappearingContent && this.__appearingContent) {\n      Router.__removeDomNodes(this.__appearingContent);\n      this.__disappearingContent = null;\n      this.__appearingContent = null;\n    }\n  }\n\n  __runOnAfterLeaveCallbacks(currentContext, targetContext) {\n    if (!targetContext) {\n      return;\n    }\n\n    // REVERSE iteration: from Z to A\n    for (let i = targetContext.chain.length - 1; i >= currentContext.__divergedChainIndex; i--) {\n      if (!this.__isLatestRender(currentContext)) {\n        break;\n      }\n      const currentComponent = targetContext.chain[i].element;\n      if (!currentComponent) {\n        continue;\n      }\n      try {\n        const location = createLocation(currentContext);\n        runCallbackIfPossible(\n          currentComponent.onAfterLeave,\n          [location, {}, targetContext.resolver],\n          currentComponent);\n      } finally {\n        if (this.__disappearingContent.indexOf(currentComponent) > -1) {\n          Router.__removeDomNodes(currentComponent.children);\n        }\n      }\n    }\n  }\n\n  __runOnAfterEnterCallbacks(currentContext) {\n    // forward iteration: from A to Z\n    for (let i = currentContext.__divergedChainIndex; i < currentContext.chain.length; i++) {\n      if (!this.__isLatestRender(currentContext)) {\n        break;\n      }\n      const currentComponent = currentContext.chain[i].element || {};\n      const location = createLocation(currentContext, currentContext.chain[i].route);\n      runCallbackIfPossible(\n        currentComponent.onAfterEnter,\n        [location, {}, currentContext.resolver],\n        currentComponent);\n    }\n  }\n\n  __animateIfNeeded(context) {\n    const from = (this.__disappearingContent || [])[0];\n    const to = (this.__appearingContent || [])[0];\n    const promises = [];\n\n    const chain = context.chain;\n    let config;\n    for (let i = chain.length; i > 0; i--) {\n      if (chain[i - 1].route.animate) {\n        config = chain[i - 1].route.animate;\n        break;\n      }\n    }\n\n    if (from && to && config) {\n      const leave = isObject(config) && config.leave || 'leaving';\n      const enter = isObject(config) && config.enter || 'entering';\n      promises.push(animate(from, leave));\n      promises.push(animate(to, enter));\n    }\n\n    return Promise.all(promises).then(() => context);\n  }\n\n  /**\n   * Subscribes this instance to navigation events on the `window`.\n   *\n   * NOTE: beware of resource leaks. For as long as a router instance is\n   * subscribed to navigation events, it won't be garbage collected.\n   */\n  subscribe() {\n    window.addEventListener('vaadin-router-go', this.__navigationEventHandler);\n  }\n\n  /**\n   * Removes the subscription to navigation events created in the `subscribe()`\n   * method.\n   */\n  unsubscribe() {\n    window.removeEventListener('vaadin-router-go', this.__navigationEventHandler);\n  }\n\n  __onNavigationEvent(event) {\n    const {pathname, search, hash} = event ? event.detail : window.location;\n    if (isString(this.__normalizePathname(pathname))) {\n      if (event && event.preventDefault) {\n        event.preventDefault();\n      }\n      this.render({pathname, search, hash}, true);\n    }\n  }\n\n  /**\n   * Configures what triggers Router navigation events:\n   *  - `POPSTATE`: popstate events on the current `window`\n   *  - `CLICK`: click events on `<a>` links leading to the current page\n   *\n   * This method is invoked with the pre-configured values when creating a new Router instance.\n   * By default, both `POPSTATE` and `CLICK` are enabled. This setup is expected to cover most of the use cases.\n   *\n   * See the `router-config.js` for the default navigation triggers config. Based on it, you can\n   * create the own one and only import the triggers you need, instead of pulling in all the code,\n   * e.g. if you want to handle `click` differently.\n   *\n   * See also **Navigation Triggers** section in [Live Examples](#/classes/Router/demos/demo/index.html).\n   *\n   * @param {...NavigationTrigger} triggers\n   */\n  static setTriggers(...triggers) {\n    setNavigationTriggers(triggers);\n  }\n\n  /**\n   * Generates a URL for the route with the given name, optionally performing\n   * substitution of parameters.\n   *\n   * The route is searched in all the Router instances subscribed to\n   * navigation events.\n   *\n   * **Note:** For child route names, only array children are considered.\n   * It is not possible to generate URLs using a name for routes set with\n   * a children function.\n   *\n   * @function urlForName\n   * @param {!string} name the route name or the routes `component` name.\n   * @param {Params=} params Optional object with route path parameters.\n   * Named parameters are passed by name (`params[name] = value`), unnamed\n   * parameters are passed by index (`params[index] = value`).\n   *\n   * @return {string}\n   */\n  urlForName(name, params) {\n    if (!this.__urlForName) {\n      this.__urlForName = generateUrls(this);\n    }\n    return getPathnameForRouter(\n      this.__urlForName(name, params),\n      this\n    );\n  }\n\n  /**\n   * Generates a URL for the given route path, optionally performing\n   * substitution of parameters.\n   *\n   * @param {!string} path string route path declared in [express.js syntax](https://expressjs.com/en/guide/routing.html#route-paths\").\n   * @param {Params=} params Optional object with route path parameters.\n   * Named parameters are passed by name (`params[name] = value`), unnamed\n   * parameters are passed by index (`params[index] = value`).\n   *\n   * @return {string}\n   */\n  urlForPath(path, params) {\n    return getPathnameForRouter(\n      compile(path)(params),\n      this\n    );\n  }\n\n  /**\n   * Triggers navigation to a new path. Returns a boolean without waiting until\n   * the navigation is complete. Returns `true` if at least one `Router`\n   * has handled the navigation (was subscribed and had `baseUrl` matching\n   * the `path` argument), otherwise returns `false`.\n   *\n   * @param {!string|!{pathname: !string, search: (string|undefined), hash: (string|undefined)}} path\n   *   a new in-app path string, or an URL-like object with `pathname`\n   *   string property, and optional `search` and `hash` string properties.\n   * @return {boolean}\n   */\n  static go(path) {\n    const {pathname, search, hash} = isString(path)\n      ? this.__createUrl(path, 'http://a') // some base to omit origin\n      : path;\n    return fireRouterEvent('go', {pathname, search, hash});\n  }\n\n  static __removeDomNodes(nodes) {\n    if (nodes && nodes.length) {\n      const parent = nodes[0].parentNode;\n      const childrenCount = nodes.length - 1;\n\n      for (let i = childrenCount; i >= 0; i--) {\n        parent.removeChild(nodes[i]);\n      }\n    }\n  }\n}\n",null,"/**\n * Tokenizer results.\n */\ninterface LexToken {\n  type:\n    | \"OPEN\"\n    | \"CLOSE\"\n    | \"PATTERN\"\n    | \"NAME\"\n    | \"CHAR\"\n    | \"ESCAPED_CHAR\"\n    | \"MODIFIER\"\n    | \"END\";\n  index: number;\n  value: string;\n}\n\n/**\n * Tokenize input string.\n */\nfunction lexer(str: string): LexToken[] {\n  const tokens: LexToken[] = [];\n  let i = 0;\n\n  while (i < str.length) {\n    const char = str[i];\n\n    if (char === \"*\" || char === \"+\" || char === \"?\") {\n      tokens.push({ type: \"MODIFIER\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"\\\\\") {\n      tokens.push({ type: \"ESCAPED_CHAR\", index: i++, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"{\") {\n      tokens.push({ type: \"OPEN\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \"}\") {\n      tokens.push({ type: \"CLOSE\", index: i, value: str[i++] });\n      continue;\n    }\n\n    if (char === \":\") {\n      let name = \"\";\n      let j = i + 1;\n\n      while (j < str.length) {\n        const code = str.charCodeAt(j);\n\n        if (\n          // `0-9`\n          (code >= 48 && code <= 57) ||\n          // `A-Z`\n          (code >= 65 && code <= 90) ||\n          // `a-z`\n          (code >= 97 && code <= 122) ||\n          // `_`\n          code === 95\n        ) {\n          name += str[j++];\n          continue;\n        }\n\n        break;\n      }\n\n      if (!name) throw new TypeError(`Missing parameter name at ${i}`);\n\n      tokens.push({ type: \"NAME\", index: i, value: name });\n      i = j;\n      continue;\n    }\n\n    if (char === \"(\") {\n      let count = 1;\n      let pattern = \"\";\n      let j = i + 1;\n\n      if (str[j] === \"?\") {\n        throw new TypeError(`Pattern cannot start with \"?\" at ${j}`);\n      }\n\n      while (j < str.length) {\n        if (str[j] === \"\\\\\") {\n          pattern += str[j++] + str[j++];\n          continue;\n        }\n\n        if (str[j] === \")\") {\n          count--;\n          if (count === 0) {\n            j++;\n            break;\n          }\n        } else if (str[j] === \"(\") {\n          count++;\n          if (str[j + 1] !== \"?\") {\n            throw new TypeError(`Capturing groups are not allowed at ${j}`);\n          }\n        }\n\n        pattern += str[j++];\n      }\n\n      if (count) throw new TypeError(`Unbalanced pattern at ${i}`);\n      if (!pattern) throw new TypeError(`Missing pattern at ${i}`);\n\n      tokens.push({ type: \"PATTERN\", index: i, value: pattern });\n      i = j;\n      continue;\n    }\n\n    tokens.push({ type: \"CHAR\", index: i, value: str[i++] });\n  }\n\n  tokens.push({ type: \"END\", index: i, value: \"\" });\n\n  return tokens;\n}\n\nexport interface ParseOptions {\n  /**\n   * Set the default delimiter for repeat parameters. (default: `'/'`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters to automatically consider prefixes when parsing.\n   */\n  prefixes?: string;\n}\n\n/**\n * Parse a string for the raw tokens.\n */\nexport function parse(str: string, options: ParseOptions = {}): Token[] {\n  const tokens = lexer(str);\n  const { prefixes = \"./\" } = options;\n  const defaultPattern = `[^${escapeString(options.delimiter || \"/#?\")}]+?`;\n  const result: Token[] = [];\n  let key = 0;\n  let i = 0;\n  let path = \"\";\n\n  const tryConsume = (type: LexToken[\"type\"]): string | undefined => {\n    if (i < tokens.length && tokens[i].type === type) return tokens[i++].value;\n  };\n\n  const mustConsume = (type: LexToken[\"type\"]): string => {\n    const value = tryConsume(type);\n    if (value !== undefined) return value;\n    const { type: nextType, index } = tokens[i];\n    throw new TypeError(`Unexpected ${nextType} at ${index}, expected ${type}`);\n  };\n\n  const consumeText = (): string => {\n    let result = \"\";\n    let value: string | undefined;\n    while ((value = tryConsume(\"CHAR\") || tryConsume(\"ESCAPED_CHAR\"))) {\n      result += value;\n    }\n    return result;\n  };\n\n  while (i < tokens.length) {\n    const char = tryConsume(\"CHAR\");\n    const name = tryConsume(\"NAME\");\n    const pattern = tryConsume(\"PATTERN\");\n\n    if (name || pattern) {\n      let prefix = char || \"\";\n\n      if (prefixes.indexOf(prefix) === -1) {\n        path += prefix;\n        prefix = \"\";\n      }\n\n      if (path) {\n        result.push(path);\n        path = \"\";\n      }\n\n      result.push({\n        name: name || key++,\n        prefix,\n        suffix: \"\",\n        pattern: pattern || defaultPattern,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    const value = char || tryConsume(\"ESCAPED_CHAR\");\n    if (value) {\n      path += value;\n      continue;\n    }\n\n    if (path) {\n      result.push(path);\n      path = \"\";\n    }\n\n    const open = tryConsume(\"OPEN\");\n    if (open) {\n      const prefix = consumeText();\n      const name = tryConsume(\"NAME\") || \"\";\n      const pattern = tryConsume(\"PATTERN\") || \"\";\n      const suffix = consumeText();\n\n      mustConsume(\"CLOSE\");\n\n      result.push({\n        name: name || (pattern ? key++ : \"\"),\n        pattern: name && !pattern ? defaultPattern : pattern,\n        prefix,\n        suffix,\n        modifier: tryConsume(\"MODIFIER\") || \"\",\n      });\n      continue;\n    }\n\n    mustConsume(\"END\");\n  }\n\n  return result;\n}\n\nexport interface TokensToFunctionOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * Function for encoding input strings for output.\n   */\n  encode?: (value: string, token: Key) => string;\n  /**\n   * When `false` the function can produce an invalid (unmatched) path. (default: `true`)\n   */\n  validate?: boolean;\n}\n\n/**\n * Compile a string to a template function for the path.\n */\nexport function compile<P extends object = object>(\n  str: string,\n  options?: ParseOptions & TokensToFunctionOptions\n) {\n  return tokensToFunction<P>(parse(str, options), options);\n}\n\nexport type PathFunction<P extends object = object> = (data?: P) => string;\n\n/**\n * Expose a method for transforming tokens into the path function.\n */\nexport function tokensToFunction<P extends object = object>(\n  tokens: Token[],\n  options: TokensToFunctionOptions = {}\n): PathFunction<P> {\n  const reFlags = flags(options);\n  const { encode = (x: string) => x, validate = true } = options;\n\n  // Compile all the tokens into regexps.\n  const matches = tokens.map((token) => {\n    if (typeof token === \"object\") {\n      return new RegExp(`^(?:${token.pattern})$`, reFlags);\n    }\n  });\n\n  return (data: Record<string, any> | null | undefined) => {\n    let path = \"\";\n\n    for (let i = 0; i < tokens.length; i++) {\n      const token = tokens[i];\n\n      if (typeof token === \"string\") {\n        path += token;\n        continue;\n      }\n\n      const value = data ? data[token.name] : undefined;\n      const optional = token.modifier === \"?\" || token.modifier === \"*\";\n      const repeat = token.modifier === \"*\" || token.modifier === \"+\";\n\n      if (Array.isArray(value)) {\n        if (!repeat) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to not repeat, but got an array`\n          );\n        }\n\n        if (value.length === 0) {\n          if (optional) continue;\n\n          throw new TypeError(`Expected \"${token.name}\" to not be empty`);\n        }\n\n        for (let j = 0; j < value.length; j++) {\n          const segment = encode(value[j], token);\n\n          if (validate && !(matches[i] as RegExp).test(segment)) {\n            throw new TypeError(\n              `Expected all \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n            );\n          }\n\n          path += token.prefix + segment + token.suffix;\n        }\n\n        continue;\n      }\n\n      if (typeof value === \"string\" || typeof value === \"number\") {\n        const segment = encode(String(value), token);\n\n        if (validate && !(matches[i] as RegExp).test(segment)) {\n          throw new TypeError(\n            `Expected \"${token.name}\" to match \"${token.pattern}\", but got \"${segment}\"`\n          );\n        }\n\n        path += token.prefix + segment + token.suffix;\n        continue;\n      }\n\n      if (optional) continue;\n\n      const typeOfMessage = repeat ? \"an array\" : \"a string\";\n      throw new TypeError(`Expected \"${token.name}\" to be ${typeOfMessage}`);\n    }\n\n    return path;\n  };\n}\n\nexport interface RegexpToFunctionOptions {\n  /**\n   * Function for decoding strings for params.\n   */\n  decode?: (value: string, token: Key) => string;\n}\n\n/**\n * A match result contains data about the path match.\n */\nexport interface MatchResult<P extends object = object> {\n  path: string;\n  index: number;\n  params: P;\n}\n\n/**\n * A match is either `false` (no match) or a match result.\n */\nexport type Match<P extends object = object> = false | MatchResult<P>;\n\n/**\n * The match function takes a string and returns whether it matched the path.\n */\nexport type MatchFunction<P extends object = object> = (\n  path: string\n) => Match<P>;\n\n/**\n * Create path match function from `path-to-regexp` spec.\n */\nexport function match<P extends object = object>(\n  str: Path,\n  options?: ParseOptions & TokensToRegexpOptions & RegexpToFunctionOptions\n) {\n  const keys: Key[] = [];\n  const re = pathToRegexp(str, keys, options);\n  return regexpToFunction<P>(re, keys, options);\n}\n\n/**\n * Create a path match function from `path-to-regexp` output.\n */\nexport function regexpToFunction<P extends object = object>(\n  re: RegExp,\n  keys: Key[],\n  options: RegexpToFunctionOptions = {}\n): MatchFunction<P> {\n  const { decode = (x: string) => x } = options;\n\n  return function (pathname: string) {\n    const m = re.exec(pathname);\n    if (!m) return false;\n\n    const { 0: path, index } = m;\n    const params = Object.create(null);\n\n    for (let i = 1; i < m.length; i++) {\n      if (m[i] === undefined) continue;\n\n      const key = keys[i - 1];\n\n      if (key.modifier === \"*\" || key.modifier === \"+\") {\n        params[key.name] = m[i].split(key.prefix + key.suffix).map((value) => {\n          return decode(value, key);\n        });\n      } else {\n        params[key.name] = decode(m[i], key);\n      }\n    }\n\n    return { path, index, params };\n  };\n}\n\n/**\n * Escape a regular expression string.\n */\nfunction escapeString(str: string) {\n  return str.replace(/([.+*?=^!:${}()[\\]|/\\\\])/g, \"\\\\$1\");\n}\n\n/**\n * Get the flags for a regexp from the options.\n */\nfunction flags(options?: { sensitive?: boolean }) {\n  return options && options.sensitive ? \"\" : \"i\";\n}\n\n/**\n * Metadata about a key.\n */\nexport interface Key {\n  name: string | number;\n  prefix: string;\n  suffix: string;\n  pattern: string;\n  modifier: string;\n}\n\n/**\n * A token is a string (nothing special) or key metadata (capture group).\n */\nexport type Token = string | Key;\n\n/**\n * Pull out keys from a regexp.\n */\nfunction regexpToRegexp(path: RegExp, keys?: Key[]): RegExp {\n  if (!keys) return path;\n\n  const groupsRegex = /\\((?:\\?<(.*?)>)?(?!\\?)/g;\n\n  let index = 0;\n  let execResult = groupsRegex.exec(path.source);\n  while (execResult) {\n    keys.push({\n      // Use parenthesized substring match if available, index otherwise\n      name: execResult[1] || index++,\n      prefix: \"\",\n      suffix: \"\",\n      modifier: \"\",\n      pattern: \"\",\n    });\n    execResult = groupsRegex.exec(path.source);\n  }\n\n  return path;\n}\n\n/**\n * Transform an array into a regexp.\n */\nfunction arrayToRegexp(\n  paths: Array<string | RegExp>,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n): RegExp {\n  const parts = paths.map((path) => pathToRegexp(path, keys, options).source);\n  return new RegExp(`(?:${parts.join(\"|\")})`, flags(options));\n}\n\n/**\n * Create a path regexp from string input.\n */\nfunction stringToRegexp(\n  path: string,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  return tokensToRegexp(parse(path, options), keys, options);\n}\n\nexport interface TokensToRegexpOptions {\n  /**\n   * When `true` the regexp will be case sensitive. (default: `false`)\n   */\n  sensitive?: boolean;\n  /**\n   * When `true` the regexp won't allow an optional trailing delimiter to match. (default: `false`)\n   */\n  strict?: boolean;\n  /**\n   * When `true` the regexp will match to the end of the string. (default: `true`)\n   */\n  end?: boolean;\n  /**\n   * When `true` the regexp will match from the beginning of the string. (default: `true`)\n   */\n  start?: boolean;\n  /**\n   * Sets the final character for non-ending optimistic matches. (default: `/`)\n   */\n  delimiter?: string;\n  /**\n   * List of characters that can also be \"end\" characters.\n   */\n  endsWith?: string;\n  /**\n   * Encode path tokens for use in the `RegExp`.\n   */\n  encode?: (value: string) => string;\n}\n\n/**\n * Expose a function for taking tokens and returning a RegExp.\n */\nexport function tokensToRegexp(\n  tokens: Token[],\n  keys?: Key[],\n  options: TokensToRegexpOptions = {}\n) {\n  const {\n    strict = false,\n    start = true,\n    end = true,\n    encode = (x: string) => x,\n    delimiter = \"/#?\",\n    endsWith = \"\",\n  } = options;\n  const endsWithRe = `[${escapeString(endsWith)}]|$`;\n  const delimiterRe = `[${escapeString(delimiter)}]`;\n  let route = start ? \"^\" : \"\";\n\n  // Iterate over the tokens and create our regexp string.\n  for (const token of tokens) {\n    if (typeof token === \"string\") {\n      route += escapeString(encode(token));\n    } else {\n      const prefix = escapeString(encode(token.prefix));\n      const suffix = escapeString(encode(token.suffix));\n\n      if (token.pattern) {\n        if (keys) keys.push(token);\n\n        if (prefix || suffix) {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            const mod = token.modifier === \"*\" ? \"?\" : \"\";\n            route += `(?:${prefix}((?:${token.pattern})(?:${suffix}${prefix}(?:${token.pattern}))*)${suffix})${mod}`;\n          } else {\n            route += `(?:${prefix}(${token.pattern})${suffix})${token.modifier}`;\n          }\n        } else {\n          if (token.modifier === \"+\" || token.modifier === \"*\") {\n            route += `((?:${token.pattern})${token.modifier})`;\n          } else {\n            route += `(${token.pattern})${token.modifier}`;\n          }\n        }\n      } else {\n        route += `(?:${prefix}${suffix})${token.modifier}`;\n      }\n    }\n  }\n\n  if (end) {\n    if (!strict) route += `${delimiterRe}?`;\n\n    route += !options.endsWith ? \"$\" : `(?=${endsWithRe})`;\n  } else {\n    const endToken = tokens[tokens.length - 1];\n    const isEndDelimited =\n      typeof endToken === \"string\"\n        ? delimiterRe.indexOf(endToken[endToken.length - 1]) > -1\n        : endToken === undefined;\n\n    if (!strict) {\n      route += `(?:${delimiterRe}(?=${endsWithRe}))?`;\n    }\n\n    if (!isEndDelimited) {\n      route += `(?=${delimiterRe}|${endsWithRe})`;\n    }\n  }\n\n  return new RegExp(route, flags(options));\n}\n\n/**\n * Supported `path-to-regexp` input types.\n */\nexport type Path = string | RegExp | Array<string | RegExp>;\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array can be passed in for the keys, which will hold the\n * placeholder key descriptions. For example, using `/user/:id`, `keys` will\n * contain `[{ name: 'id', delimiter: '/', optional: false, repeat: false }]`.\n */\nexport function pathToRegexp(\n  path: Path,\n  keys?: Key[],\n  options?: TokensToRegexpOptions & ParseOptions\n) {\n  if (path instanceof RegExp) return regexpToRegexp(path, keys);\n  if (Array.isArray(path)) return arrayToRegexp(path, keys, options);\n  return stringToRegexp(path, keys, options);\n}\n","/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport matchRoute from './matchRoute.js';\nimport resolveRoute from './resolveRoute.js';\nimport {ensureRoutes, getNotFoundError, isString, notFoundResult, toArray} from '../utils.js';\n\nfunction isChildRoute(parentRoute, childRoute) {\n  let route = childRoute;\n  while (route) {\n    route = route.parent;\n    if (route === parentRoute) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction generateErrorMessage(currentContext) {\n  let errorMessage = `Path '${currentContext.pathname}' is not properly resolved due to an error.`;\n  const routePath = (currentContext.route || {}).path;\n  if (routePath) {\n    errorMessage += ` Resolution had failed on route: '${routePath}'`;\n  }\n  return errorMessage;\n}\n\nfunction updateChainForRoute(context, match) {\n  const {route, path} = match;\n\n  if (route && !route.__synthetic) {\n    const item = {path, route};\n    if (!context.chain) {\n      context.chain = [];\n    } else {\n      // Discard old items\n      if (route.parent) {\n        let i = context.chain.length;\n        while (i-- && context.chain[i].route && context.chain[i].route !== route.parent) {\n          context.chain.pop();\n        }\n      }\n    }\n    context.chain.push(item);\n  }\n}\n\n/**\n */\nclass Resolver {\n  constructor(routes, options = {}) {\n    if (Object(routes) !== routes) {\n      throw new TypeError('Invalid routes');\n    }\n\n    this.baseUrl = options.baseUrl || '';\n    this.errorHandler = options.errorHandler;\n    this.resolveRoute = options.resolveRoute || resolveRoute;\n    this.context = Object.assign({resolver: this}, options.context);\n    this.root = Array.isArray(routes) ? {path: '', __children: routes, parent: null, __synthetic: true} : routes;\n    this.root.parent = null;\n  }\n\n  /**\n   * Returns the current list of routes (as a shallow copy). Adding / removing\n   * routes to / from the returned array does not affect the routing config,\n   * but modifying the route objects does.\n   *\n   * @return {!Array<!Router.Route>}\n   */\n  getRoutes() {\n    return [...this.root.__children];\n  }\n\n  /**\n   * Sets the routing config (replacing the existing one).\n   *\n   * @param {!Array<!Router.Route>|!Router.Route} routes a single route or an array of those\n   *    (the array is shallow copied)\n   */\n  setRoutes(routes) {\n    ensureRoutes(routes);\n    const newRoutes = [...toArray(routes)];\n    this.root.__children = newRoutes;\n  }\n\n  /**\n   * Appends one or several routes to the routing config and returns the\n   * effective routing config after the operation.\n   *\n   * @param {!Array<!Router.Route>|!Router.Route} routes a single route or an array of those\n   *    (the array is shallow copied)\n   * @return {!Array<!Router.Route>}\n   * @protected\n   */\n  addRoutes(routes) {\n    ensureRoutes(routes);\n    this.root.__children.push(...toArray(routes));\n    return this.getRoutes();\n  }\n\n  /**\n   * Removes all existing routes from the routing config.\n   */\n  removeRoutes() {\n    this.setRoutes([]);\n  }\n\n  /**\n   * Asynchronously resolves the given pathname, i.e. finds all routes matching\n   * the pathname and tries resolving them one after another in the order they\n   * are listed in the routes config until the first non-null result.\n   *\n   * Returns a promise that is fulfilled with the return value of an object that consists of the first\n   * route handler result that returns something other than `null` or `undefined` and context used to get this result.\n   *\n   * If no route handlers return a non-null result, or if no route matches the\n   * given pathname the returned promise is rejected with a 'page not found'\n   * `Error`.\n   *\n   * @param {!string|!{pathname: !string}} pathnameOrContext the pathname to\n   *    resolve or a context object with a `pathname` property and other\n   *    properties to pass to the route resolver functions.\n   * @return {!Promise<any>}\n   */\n  resolve(pathnameOrContext) {\n    const context = Object.assign(\n      {},\n      this.context,\n      isString(pathnameOrContext) ? {pathname: pathnameOrContext} : pathnameOrContext\n    );\n    const match = matchRoute(\n      this.root,\n      this.__normalizePathname(context.pathname),\n      this.baseUrl\n    );\n    const resolve = this.resolveRoute;\n    let matches = null;\n    let nextMatches = null;\n    let currentContext = context;\n\n    function next(resume, parent = matches.value.route, prevResult) {\n      const routeToSkip = prevResult === null && matches.value.route;\n      matches = nextMatches || match.next(routeToSkip);\n      nextMatches = null;\n\n      if (!resume) {\n        if (matches.done || !isChildRoute(parent, matches.value.route)) {\n          nextMatches = matches;\n          return Promise.resolve(notFoundResult);\n        }\n      }\n\n      if (matches.done) {\n        return Promise.reject(getNotFoundError(context));\n      }\n\n      currentContext = Object.assign(\n        currentContext\n          ? {chain: (currentContext.chain ? currentContext.chain.slice(0) : [])}\n          : {},\n        context,\n        matches.value\n      );\n      updateChainForRoute(currentContext, matches.value);\n\n      return Promise.resolve(resolve(currentContext)).then(resolution => {\n        if (resolution !== null && resolution !== undefined && resolution !== notFoundResult) {\n          currentContext.result = resolution.result || resolution;\n          return currentContext;\n        }\n        return next(resume, parent, resolution);\n      });\n    }\n\n    context.next = next;\n\n    return Promise.resolve()\n      .then(() => next(true, this.root))\n      .catch((error) => {\n        const errorMessage = generateErrorMessage(currentContext);\n        if (!error) {\n          error = new Error(errorMessage);\n        } else {\n          console.warn(errorMessage);\n        }\n        error.context = error.context || currentContext;\n        // DOMException has its own code which is read-only\n        if (!(error instanceof DOMException)) {\n          error.code = error.code || 500;\n        }\n        if (this.errorHandler) {\n          currentContext.result = this.errorHandler(error);\n          return currentContext;\n        }\n        throw error;\n      });\n  }\n\n  /**\n   * URL constructor polyfill hook. Creates and returns an URL instance.\n   */\n  static __createUrl(...args) {\n    return new URL(...args);\n  }\n\n  /**\n   * If the baseUrl property is set, transforms the baseUrl and returns the full\n   * actual `base` string for using in the `new URL(path, base);` and for\n   * prepernding the paths with. The returned base ends with a trailing slash.\n   *\n   * Otherwise, returns empty string.\n   */\n  get __effectiveBaseUrl() {\n    return this.baseUrl\n      ? this.constructor.__createUrl(\n        this.baseUrl,\n        document.baseURI || document.URL\n      ).href.replace(/[^/]*$/, '')\n      : '';\n  }\n\n  /**\n   * If the baseUrl is set, matches the pathname with the routers baseUrl,\n   * and returns the local pathname with the baseUrl stripped out.\n   *\n   * If the pathname does not match the baseUrl, returns undefined.\n   *\n   * If the `baseUrl` is not set, returns the unmodified pathname argument.\n   */\n  __normalizePathname(pathname) {\n    if (!this.baseUrl) {\n      // No base URL, no need to transform the pathname.\n      return pathname;\n    }\n\n    const base = this.__effectiveBaseUrl;\n    // Convert pathname to a valid URL constructor argument\n    const url = pathname[0] === '/'\n      ? this.constructor.__createUrl(base).origin + pathname\n      : './' + pathname;\n    const normalizedUrl = this.constructor.__createUrl(url, base).href;\n    if (normalizedUrl.slice(0, base.length) === base) {\n      return normalizedUrl.slice(base.length);\n    }\n  }\n}\n\nexport default Resolver;\n","/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport matchPath from './matchPath.js';\n\n/**\n * Traverses the routes tree and matches its nodes to the given pathname from\n * the root down to the leaves. Each match consumes a part of the pathname and\n * the matching process continues for as long as there is a matching child\n * route for the remaining part of the pathname.\n *\n * The returned value is a lazily evaluated iterator.\n *\n * The leading \"/\" in a route path matters only for the root of the routes\n * tree (or if all parent routes are \"\"). In all other cases a leading \"/\" in\n * a child route path has no significance.\n *\n * The trailing \"/\" in a _route path_ matters only for the leaves of the\n * routes tree. A leaf route with a trailing \"/\" matches only a pathname that\n * also has a trailing \"/\".\n *\n * The trailing \"/\" in a route path does not affect matching of child routes\n * in any way.\n *\n * The trailing \"/\" in a _pathname_ generally does not matter (except for\n * the case of leaf nodes described above).\n *\n * The \"\" and \"/\" routes have special treatment:\n *  1. as a single route\n *     the \"\" and \"/\" routes match only the \"\" and \"/\" pathnames respectively\n *  2. as a parent in the routes tree\n *     the \"\" route matches any pathname without consuming any part of it\n *     the \"/\" route matches any absolute pathname consuming its leading \"/\"\n *  3. as a leaf in the routes tree\n *     the \"\" and \"/\" routes match only if the entire pathname is consumed by\n *         the parent routes chain. In this case \"\" and \"/\" are equivalent.\n *  4. several directly nested \"\" or \"/\" routes\n *     - directly nested \"\" or \"/\" routes are 'squashed' (i.e. nesting two\n *       \"/\" routes does not require a double \"/\" in the pathname to match)\n *     - if there are only \"\" in the parent routes chain, no part of the\n *       pathname is consumed, and the leading \"/\" in the child routes' paths\n *       remains significant\n *\n * Side effect:\n *   - the routes tree { path: '' } matches only the '' pathname\n *   - the routes tree { path: '', children: [ { path: '' } ] } matches any\n *     pathname (for the tree root)\n *\n * Prefix matching can be enabled also by `children: true`.\n */\nfunction matchRoute(route, pathname, ignoreLeadingSlash, parentKeys, parentParams) {\n  let match;\n  let childMatches;\n  let childIndex = 0;\n  let routepath = route.path || '';\n  if (routepath.charAt(0) === '/') {\n    if (ignoreLeadingSlash) {\n      routepath = routepath.substr(1);\n    }\n    ignoreLeadingSlash = true;\n  }\n\n  return {\n    next(routeToSkip) {\n      if (route === routeToSkip) {\n        return {done: true};\n      }\n\n      const children = route.__children = route.__children || route.children;\n\n      if (!match) {\n        match = matchPath(routepath, pathname, !children, parentKeys, parentParams);\n\n        if (match) {\n          return {\n            done: false,\n            value: {\n              route,\n              keys: match.keys,\n              params: match.params,\n              path: match.path\n            },\n          };\n        }\n      }\n\n      if (match && children) {\n        while (childIndex < children.length) {\n          if (!childMatches) {\n            const childRoute = children[childIndex];\n            childRoute.parent = route;\n\n            let matchedLength = match.path.length;\n            if (matchedLength > 0 && pathname.charAt(matchedLength) === '/') {\n              matchedLength += 1;\n            }\n\n            childMatches = matchRoute(\n              childRoute,\n              pathname.substr(matchedLength),\n              ignoreLeadingSlash,\n              match.keys,\n              match.params\n            );\n          }\n\n          const childMatch = childMatches.next(routeToSkip);\n          if (!childMatch.done) {\n            return {\n              done: false,\n              value: childMatch.value,\n            };\n          }\n\n          childMatches = null;\n          childIndex++;\n        }\n      }\n\n      return {done: true};\n    },\n  };\n}\n\nexport default matchRoute;\n","/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport {pathToRegexp} from 'path-to-regexp';\n\nconst {hasOwnProperty} = Object.prototype;\nconst cache = new Map();\n// see https://github.com/pillarjs/path-to-regexp/issues/148\ncache.set('|false', {\n  keys: [],\n  pattern: /(?:)/\n});\n\nfunction decodeParam(val) {\n  try {\n    return decodeURIComponent(val);\n  } catch (err) {\n    return val;\n  }\n}\n\nfunction matchPath(routepath, path, exact, parentKeys, parentParams) {\n  exact = !!exact;\n  const cacheKey = `${routepath}|${exact}`;\n  let regexp = cache.get(cacheKey);\n\n  if (!regexp) {\n    const keys = [];\n    regexp = {\n      keys,\n      pattern: pathToRegexp(routepath, keys, {\n        end: exact,\n        strict: routepath === ''\n      }),\n    };\n    cache.set(cacheKey, regexp);\n  }\n\n  const m = regexp.pattern.exec(path);\n  if (!m) {\n    return null;\n  }\n\n  const params = Object.assign({}, parentParams);\n\n  for (let i = 1; i < m.length; i++) {\n    const key = regexp.keys[i - 1];\n    const prop = key.name;\n    const value = m[i];\n    if (value !== undefined || !hasOwnProperty.call(params, prop)) {\n      if (key.modifier === '+' || key.modifier === '*') {\n        // by default, as of path-to-regexp 6.0.0, the default delimiters\n        // are `/`, `#` and `?`.\n        params[prop] = value ? value.split(/[/?#]/).map(decodeParam) : [];\n      } else {\n        params[prop] = value ? decodeParam(value) : value;\n      }\n    }\n  }\n\n  return {\n    path: m[0],\n    keys: (parentKeys || []).concat(regexp.keys),\n    params,\n  };\n}\n\nexport default matchPath;\n","/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport {isFunction} from '../utils.js';\n\nfunction resolveRoute(context) {\n  if (isFunction(context.route.action)) {\n    return context.route.action(context);\n  }\n  return undefined;\n}\n\nexport default resolveRoute;\n","/**\n * Universal Router (https://www.kriasoft.com/universal-router/)\n *\n * Copyright (c) 2015-present Kriasoft.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE.txt file in the root directory of this source tree.\n */\n\nimport {parse, tokensToFunction} from 'path-to-regexp';\nimport Resolver from './resolver.js';\nimport {isString} from '../utils.js';\n\nconst cache = new Map();\n\nfunction cacheRoutes(routesByName, route, routes) {\n  const name = route.name || route.component;\n  if (name) {\n    if (routesByName.has(name)) {\n      routesByName.get(name).push(route);\n    } else {\n      routesByName.set(name, [route]);\n    }\n  }\n\n  if (Array.isArray(routes)) {\n    for (let i = 0; i < routes.length; i++) {\n      const childRoute = routes[i];\n      childRoute.parent = route;\n      cacheRoutes(routesByName, childRoute, childRoute.__children || childRoute.children);\n    }\n  }\n}\n\nfunction getRouteByName(routesByName, routeName) {\n  const routes = routesByName.get(routeName);\n  if (routes && routes.length > 1) {\n    throw new Error(\n      `Duplicate route with name \"${routeName}\".`\n      + ` Try seting unique 'name' route properties.`\n    );\n  }\n  return routes && routes[0];\n}\n\nfunction getRoutePath(route) {\n  let path = route.path;\n  path = Array.isArray(path) ? path[0] : path;\n  return path !== undefined ? path : '';\n}\n\nfunction generateUrls(router, options = {\n  encode: encodeURIComponent\n}) {\n  if (!(router instanceof Resolver)) {\n    throw new TypeError('An instance of Resolver is expected');\n  }\n\n  const routesByName = new Map();\n\n  return (routeName, params) => {\n    let route = getRouteByName(routesByName, routeName);\n    if (!route) {\n      routesByName.clear(); // clear cache\n      cacheRoutes(routesByName, router.root, router.root.__children);\n\n      route = getRouteByName(routesByName, routeName);\n      if (!route) {\n        throw new Error(`Route \"${routeName}\" not found`);\n      }\n    }\n\n    let cached = cache.get(route.fullPath);\n    if (!cached) {\n      let fullPath = getRoutePath(route);\n      let rt = route.parent;\n      while (rt) {\n        const path = getRoutePath(rt);\n        if (path) {\n          fullPath = path.replace(/\\/$/, '') + '/' + fullPath.replace(/^\\//, '');\n        }\n        rt = rt.parent;\n      }\n      const tokens = parse(fullPath);\n      const keys = Object.create(null);\n      for (let i = 0; i < tokens.length; i++) {\n        if (!isString(tokens[i])) {\n          keys[tokens[i].name] = true;\n        }\n      }\n      cached = {tokens, keys};\n      cache.set(fullPath, cached);\n      route.fullPath = fullPath;\n    }\n\n    const toPath = tokensToFunction(cached.tokens, options);\n    let url = toPath(params) || '/';\n\n    if (options.stringifyQueryParams && params) {\n      const queryParams = {};\n      const keys = Object.keys(params);\n      for (let i = 0; i < keys.length; i++) {\n        const key = keys[i];\n        if (!cached.keys[key]) {\n          queryParams[key] = params[key];\n        }\n      }\n      const query = options.stringifyQueryParams(queryParams);\n      if (query) {\n        url += query.charAt(0) === '?' ? query : `?${query}`;\n      }\n    }\n\n    return url;\n  };\n}\n\nexport default generateUrls;\n","/**\n * @typedef NavigationTrigger\n * @type {object}\n * @property {function()} activate\n * @property {function()} inactivate\n */\n\n/** @type {Array<NavigationTrigger>} */\nlet triggers = [];\n\nexport default function setNavigationTriggers(newTriggers) {\n  triggers.forEach(trigger => trigger.inactivate());\n\n  newTriggers.forEach(trigger => trigger.activate());\n\n  triggers = newTriggers;\n}\n","const willAnimate = elem => {\n  const name = getComputedStyle(elem).getPropertyValue('animation-name');\n  return name && name !== 'none';\n};\n\nconst waitForAnimation = (elem, cb) => {\n  const listener = () => {\n    elem.removeEventListener('animationend', listener);\n    cb();\n  };\n  elem.addEventListener('animationend', listener);\n};\n\nfunction animate(elem, className) {\n  elem.classList.add(className);\n\n  return new Promise(resolve => {\n    if (willAnimate(elem)) {\n      const rect = elem.getBoundingClientRect();\n      const size = `height: ${rect.bottom - rect.top}px; width: ${rect.right - rect.left}px`;\n      elem.setAttribute('style', `position: absolute; ${size}`);\n      waitForAnimation(elem, () => {\n        elem.classList.remove(className);\n        elem.removeAttribute('style');\n        resolve();\n      });\n    } else {\n      elem.classList.remove(className);\n      resolve();\n    }\n  });\n}\n\nexport default animate;\n","import {usageStatistics} from '@vaadin/vaadin-usage-statistics/vaadin-usage-statistics.js';\n\nwindow.Vaadin = window.Vaadin || {};\nwindow.Vaadin.registrations = window.Vaadin.registrations || [];\n\nwindow.Vaadin.registrations.push({\n  is: '@vaadin/router',\n  version: '1.7.2',\n});\n\nusageStatistics();\n","export * from './vaadin-usage-statistics-collect.js';\n","/* This file is autogenerated from src/vaadin-usage-statistics.tpl.html */\n/*\n\nThis script gathers usage statistics from the application running in development mode.\n\nStatistics gathering is automatically disabled and excluded from production builds.\n\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\n\n*/\n/*\n  FIXME(polymer-modulizer): the above comments were extracted\n  from HTML and may be out of place here. Review them and\n  then delete this comment!\n*/\nimport { runIfDevelopmentMode } from '@vaadin/vaadin-development-mode-detector/vaadin-development-mode-detector.js';\n\nfunction maybeGatherAndSendStats() {\n  /** vaadin-dev-mode:start\n  (function () {\n'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\n\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar getPolymerVersion = function getPolymerVersion() {\n  return window.Polymer && window.Polymer.version;\n};\n\nvar StatisticsGatherer = function () {\n  function StatisticsGatherer(logger) {\n    classCallCheck(this, StatisticsGatherer);\n\n    this.now = new Date().getTime();\n    this.logger = logger;\n  }\n\n  createClass(StatisticsGatherer, [{\n    key: 'frameworkVersionDetectors',\n    value: function frameworkVersionDetectors() {\n      return {\n        'Flow': function Flow() {\n          if (window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients) {\n            var flowVersions = Object.keys(window.Vaadin.Flow.clients).map(function (key) {\n              return window.Vaadin.Flow.clients[key];\n            }).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().flow;\n            });\n            if (flowVersions.length > 0) {\n              return flowVersions[0];\n            }\n          }\n        },\n        'Vaadin Framework': function VaadinFramework() {\n          if (window.vaadin && window.vaadin.clients) {\n            var frameworkVersions = Object.values(window.vaadin.clients).filter(function (client) {\n              return client.getVersionInfo;\n            }).map(function (client) {\n              return client.getVersionInfo().vaadinVersion;\n            });\n            if (frameworkVersions.length > 0) {\n              return frameworkVersions[0];\n            }\n          }\n        },\n        'AngularJs': function AngularJs() {\n          if (window.angular && window.angular.version && window.angular.version) {\n            return window.angular.version.full;\n          }\n        },\n        'Angular': function Angular() {\n          if (window.ng) {\n            var tags = document.querySelectorAll(\"[ng-version]\");\n            if (tags.length > 0) {\n              return tags[0].getAttribute(\"ng-version\");\n            }\n            return \"Unknown\";\n          }\n        },\n        'Backbone.js': function BackboneJs() {\n          if (window.Backbone) {\n            return window.Backbone.VERSION;\n          }\n        },\n        'React': function React() {\n          var reactSelector = '[data-reactroot], [data-reactid]';\n          if (!!document.querySelector(reactSelector)) {\n            // React does not publish the version by default\n            return \"unknown\";\n          }\n        },\n        'Ember': function Ember() {\n          if (window.Em && window.Em.VERSION) {\n            return window.Em.VERSION;\n          } else if (window.Ember && window.Ember.VERSION) {\n            return window.Ember.VERSION;\n          }\n        },\n        'jQuery': function (_jQuery) {\n          function jQuery() {\n            return _jQuery.apply(this, arguments);\n          }\n\n          jQuery.toString = function () {\n            return _jQuery.toString();\n          };\n\n          return jQuery;\n        }(function () {\n          if (typeof jQuery === 'function' && jQuery.prototype.jquery !== undefined) {\n            return jQuery.prototype.jquery;\n          }\n        }),\n        'Polymer': function Polymer() {\n          var version = getPolymerVersion();\n          if (version) {\n            return version;\n          }\n        },\n        'LitElement': function LitElement() {\n          var version = window.litElementVersions && window.litElementVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'LitHtml': function LitHtml() {\n          var version = window.litHtmlVersions && window.litHtmlVersions[0];\n          if (version) {\n            return version;\n          }\n        },\n        'Vue.js': function VueJs() {\n          if (window.Vue) {\n            return window.Vue.version;\n          }\n        }\n      };\n    }\n  }, {\n    key: 'getUsedVaadinElements',\n    value: function getUsedVaadinElements(elements) {\n      var version = getPolymerVersion();\n      var elementClasses = void 0;\n      // NOTE: In case you edit the code here, YOU MUST UPDATE any statistics reporting code in Flow.\n      // Check all locations calling the method getEntries() in\n      // https://github.com/vaadin/flow/blob/master/flow-server/src/main/java/com/vaadin/flow/internal/UsageStatistics.java#L106\n      // Currently it is only used by BootstrapHandler.\n      if (version && version.indexOf('2') === 0) {\n        // Polymer 2: components classes are stored in window.Vaadin\n        elementClasses = Object.keys(window.Vaadin).map(function (c) {\n          return window.Vaadin[c];\n        }).filter(function (c) {\n          return c.is;\n        });\n      } else {\n        // Polymer 3: components classes are stored in window.Vaadin.registrations\n        elementClasses = window.Vaadin.registrations || [];\n      }\n      elementClasses.forEach(function (klass) {\n        var version = klass.version ? klass.version : \"0.0.0\";\n        elements[klass.is] = { version: version };\n      });\n    }\n  }, {\n    key: 'getUsedVaadinThemes',\n    value: function getUsedVaadinThemes(themes) {\n      ['Lumo', 'Material'].forEach(function (themeName) {\n        var theme;\n        var version = getPolymerVersion();\n        if (version && version.indexOf('2') === 0) {\n          // Polymer 2: themes are stored in window.Vaadin\n          theme = window.Vaadin[themeName];\n        } else {\n          // Polymer 3: themes are stored in custom element registry\n          theme = customElements.get('vaadin-' + themeName.toLowerCase() + '-styles');\n        }\n        if (theme && theme.version) {\n          themes[themeName] = { version: theme.version };\n        }\n      });\n    }\n  }, {\n    key: 'getFrameworks',\n    value: function getFrameworks(frameworks) {\n      var detectors = this.frameworkVersionDetectors();\n      Object.keys(detectors).forEach(function (framework) {\n        var detector = detectors[framework];\n        try {\n          var version = detector();\n          if (version) {\n            frameworks[framework] = { version: version };\n          }\n        } catch (e) {}\n      });\n    }\n  }, {\n    key: 'gather',\n    value: function gather(storage) {\n      var storedStats = storage.read();\n      var gatheredStats = {};\n      var types = [\"elements\", \"frameworks\", \"themes\"];\n\n      types.forEach(function (type) {\n        gatheredStats[type] = {};\n        if (!storedStats[type]) {\n          storedStats[type] = {};\n        }\n      });\n\n      var previousStats = JSON.stringify(storedStats);\n\n      this.getUsedVaadinElements(gatheredStats.elements);\n      this.getFrameworks(gatheredStats.frameworks);\n      this.getUsedVaadinThemes(gatheredStats.themes);\n\n      var now = this.now;\n      types.forEach(function (type) {\n        var keys = Object.keys(gatheredStats[type]);\n        keys.forEach(function (key) {\n          if (!storedStats[type][key] || _typeof(storedStats[type][key]) != _typeof({})) {\n            storedStats[type][key] = { firstUsed: now };\n          }\n          // Discards any previously logged version number\n          storedStats[type][key].version = gatheredStats[type][key].version;\n          storedStats[type][key].lastUsed = now;\n        });\n      });\n\n      var newStats = JSON.stringify(storedStats);\n      storage.write(newStats);\n      if (newStats != previousStats && Object.keys(storedStats).length > 0) {\n        this.logger.debug(\"New stats: \" + newStats);\n      }\n    }\n  }]);\n  return StatisticsGatherer;\n}();\n\nvar StatisticsStorage = function () {\n  function StatisticsStorage(key) {\n    classCallCheck(this, StatisticsStorage);\n\n    this.key = key;\n  }\n\n  createClass(StatisticsStorage, [{\n    key: 'read',\n    value: function read() {\n      var localStorageStatsString = localStorage.getItem(this.key);\n      try {\n        return JSON.parse(localStorageStatsString ? localStorageStatsString : '{}');\n      } catch (e) {\n        return {};\n      }\n    }\n  }, {\n    key: 'write',\n    value: function write(data) {\n      localStorage.setItem(this.key, data);\n    }\n  }, {\n    key: 'clear',\n    value: function clear() {\n      localStorage.removeItem(this.key);\n    }\n  }, {\n    key: 'isEmpty',\n    value: function isEmpty() {\n      var storedStats = this.read();\n      var empty = true;\n      Object.keys(storedStats).forEach(function (key) {\n        if (Object.keys(storedStats[key]).length > 0) {\n          empty = false;\n        }\n      });\n\n      return empty;\n    }\n  }]);\n  return StatisticsStorage;\n}();\n\nvar StatisticsSender = function () {\n  function StatisticsSender(url, logger) {\n    classCallCheck(this, StatisticsSender);\n\n    this.url = url;\n    this.logger = logger;\n  }\n\n  createClass(StatisticsSender, [{\n    key: 'send',\n    value: function send(data, errorHandler) {\n      var logger = this.logger;\n\n      if (navigator.onLine === false) {\n        logger.debug(\"Offline, can't send\");\n        errorHandler();\n        return;\n      }\n      logger.debug(\"Sending data to \" + this.url);\n\n      var req = new XMLHttpRequest();\n      req.withCredentials = true;\n      req.addEventListener(\"load\", function () {\n        // Stats sent, nothing more to do\n        logger.debug(\"Response: \" + req.responseText);\n      });\n      req.addEventListener(\"error\", function () {\n        logger.debug(\"Send failed\");\n        errorHandler();\n      });\n      req.addEventListener(\"abort\", function () {\n        logger.debug(\"Send aborted\");\n        errorHandler();\n      });\n      req.open(\"POST\", this.url);\n      req.setRequestHeader(\"Content-Type\", \"application/json\");\n      req.send(data);\n    }\n  }]);\n  return StatisticsSender;\n}();\n\nvar StatisticsLogger = function () {\n  function StatisticsLogger(id) {\n    classCallCheck(this, StatisticsLogger);\n\n    this.id = id;\n  }\n\n  createClass(StatisticsLogger, [{\n    key: '_isDebug',\n    value: function _isDebug() {\n      return localStorage.getItem(\"vaadin.\" + this.id + \".debug\");\n    }\n  }, {\n    key: 'debug',\n    value: function debug(msg) {\n      if (this._isDebug()) {\n        console.info(this.id + \": \" + msg);\n      }\n    }\n  }]);\n  return StatisticsLogger;\n}();\n\nvar UsageStatistics = function () {\n  function UsageStatistics() {\n    classCallCheck(this, UsageStatistics);\n\n    this.now = new Date();\n    this.timeNow = this.now.getTime();\n    this.gatherDelay = 10; // Delay between loading this file and gathering stats\n    this.initialDelay = 24 * 60 * 60;\n\n    this.logger = new StatisticsLogger(\"statistics\");\n    this.storage = new StatisticsStorage(\"vaadin.statistics.basket\");\n    this.gatherer = new StatisticsGatherer(this.logger);\n    this.sender = new StatisticsSender(\"https://tools.vaadin.com/usage-stats/submit\", this.logger);\n  }\n\n  createClass(UsageStatistics, [{\n    key: 'maybeGatherAndSend',\n    value: function maybeGatherAndSend() {\n      var _this = this;\n\n      if (localStorage.getItem(UsageStatistics.optOutKey)) {\n        return;\n      }\n      this.gatherer.gather(this.storage);\n      setTimeout(function () {\n        _this.maybeSend();\n      }, this.gatherDelay * 1000);\n    }\n  }, {\n    key: 'lottery',\n    value: function lottery() {\n      return true;\n    }\n  }, {\n    key: 'currentMonth',\n    value: function currentMonth() {\n      return this.now.getYear() * 12 + this.now.getMonth();\n    }\n  }, {\n    key: 'maybeSend',\n    value: function maybeSend() {\n      var firstUse = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      var monthProcessed = Number(localStorage.getItem(UsageStatistics.monthProcessedKey));\n\n      if (!firstUse) {\n        // Use a grace period to avoid interfering with tests, incognito mode etc\n        firstUse = this.timeNow;\n        localStorage.setItem(UsageStatistics.firstUseKey, firstUse);\n      }\n\n      if (this.timeNow < firstUse + this.initialDelay * 1000) {\n        this.logger.debug(\"No statistics will be sent until the initial delay of \" + this.initialDelay + \"s has passed\");\n        return;\n      }\n      if (this.currentMonth() <= monthProcessed) {\n        this.logger.debug(\"This month has already been processed\");\n        return;\n      }\n      localStorage.setItem(UsageStatistics.monthProcessedKey, this.currentMonth());\n      // Use random sampling\n      if (this.lottery()) {\n        this.logger.debug(\"Congratulations, we have a winner!\");\n      } else {\n        this.logger.debug(\"Sorry, no stats from you this time\");\n        return;\n      }\n\n      this.send();\n    }\n  }, {\n    key: 'send',\n    value: function send() {\n      // Ensure we have the latest data\n      this.gatherer.gather(this.storage);\n\n      // Read, send and clean up\n      var data = this.storage.read();\n      data[\"firstUse\"] = Number(localStorage.getItem(UsageStatistics.firstUseKey));\n      data[\"usageStatisticsVersion\"] = UsageStatistics.version;\n      var info = 'This request contains usage statistics gathered from the application running in development mode. \\n\\nStatistics gathering is automatically disabled and excluded from production builds.\\n\\nFor details and to opt-out, see https://github.com/vaadin/vaadin-usage-statistics.\\n\\n\\n\\n';\n      var self = this;\n      this.sender.send(info + JSON.stringify(data), function () {\n        // Revert the 'month processed' flag\n        localStorage.setItem(UsageStatistics.monthProcessedKey, self.currentMonth() - 1);\n      });\n    }\n  }], [{\n    key: 'version',\n    get: function get$1() {\n      return '2.1.2';\n    }\n  }, {\n    key: 'firstUseKey',\n    get: function get$1() {\n      return 'vaadin.statistics.firstuse';\n    }\n  }, {\n    key: 'monthProcessedKey',\n    get: function get$1() {\n      return 'vaadin.statistics.monthProcessed';\n    }\n  }, {\n    key: 'optOutKey',\n    get: function get$1() {\n      return 'vaadin.statistics.optout';\n    }\n  }]);\n  return UsageStatistics;\n}();\n\ntry {\n  window.Vaadin = window.Vaadin || {};\n  window.Vaadin.usageStatsChecker = window.Vaadin.usageStatsChecker || new UsageStatistics();\n  window.Vaadin.usageStatsChecker.maybeGatherAndSend();\n} catch (e) {\n  // Intentionally ignored as this is not a problem in the app being developed\n}\n\n}());\n\n  vaadin-dev-mode:end **/\n}\n\nexport const usageStatistics = function() {\n  if (typeof runIfDevelopmentMode === 'function') {\n    return runIfDevelopmentMode(maybeGatherAndSendStats);\n  }\n};\n","const DEV_MODE_CODE_REGEXP =\n  /\\/\\*[\\*!]\\s+vaadin-dev-mode:start([\\s\\S]*)vaadin-dev-mode:end\\s+\\*\\*\\//i;\n\nconst FlowClients = window.Vaadin && window.Vaadin.Flow && window.Vaadin.Flow.clients;\n\nfunction isMinified() {\n  function test() {\n    /** vaadin-dev-mode:start\n    return false;\n    vaadin-dev-mode:end **/\n    return true;\n  }\n  return uncommentAndRun(test);\n}\n\nfunction isDevelopmentMode() {\n  try {\n    if (isForcedDevelopmentMode()) {\n      return true;\n    }\n\n    if (!isLocalhost()) {\n      return false;\n    }\n\n    if (FlowClients) {\n      return !isFlowProductionMode();\n    }\n\n    return !isMinified();\n  } catch (e) {\n    // Some error in this code, assume production so no further actions will be taken\n    return false;\n  }\n}\n\nfunction isForcedDevelopmentMode() {\n  return localStorage.getItem(\"vaadin.developmentmode.force\");\n}\n\nfunction isLocalhost() {\n  return ([\"localhost\",\"127.0.0.1\"].indexOf(window.location.hostname) >= 0);\n}\n\nfunction isFlowProductionMode() {\n  if (FlowClients) {\n    const productionModeApps = Object.keys(FlowClients)\n      .map(key => FlowClients[key])\n      .filter(client => client.productionMode);\n    if (productionModeApps.length > 0) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction uncommentAndRun(callback, args) {\n  if (typeof callback !== 'function') {\n    return;\n  }\n\n  const match = DEV_MODE_CODE_REGEXP.exec(callback.toString());\n  if (match) {\n    try {\n      // requires CSP: script-src 'unsafe-eval'\n      callback = new Function(match[1]);\n    } catch (e) {\n      // eat the exception\n      console.log('vaadin-development-mode-detector: uncommentAndRun() failed', e)\n    }\n  }\n\n  return callback(args);\n}\n\n// A guard against polymer-modulizer removing the window.Vaadin\n// initialization above.\nwindow['Vaadin'] = window['Vaadin'] || {};\n\n/**\n * Inspects the source code of the given `callback` function for\n * specially-marked _commented_ code. If such commented code is found in the\n * callback source, uncomments and runs that code instead of the callback\n * itself. Otherwise runs the callback as is.\n *\n * The optional arguments are passed into the callback / uncommented code,\n * the result is returned.\n *\n * See the `isMinified()` function source code in this file for an example.\n *\n */\nexport const runIfDevelopmentMode = function(callback, args) {\n  if (window.Vaadin.developmentMode) {\n    return uncommentAndRun(callback, args);\n  }\n};\n\nif (window.Vaadin.developmentMode === undefined) {\n  window.Vaadin.developmentMode = isDevelopmentMode();\n}\n","import { state } from \"../../../state\";\r\nimport { Dropzone } from \"dropzone\"\r\n\r\ncustomElements.define(\"welc-el\", class Welcome extends HTMLElement {\r\n    connectedCallback() {\r\n        this.render();\r\n        this.listeners();\r\n    }\r\n    render() {\r\n        const div = document.createElement(\"div\")\r\n        div.innerHTML = `\r\n        <h2 class=\"title\">Crea tu Perfil</h2> \r\n        <form class=\"form\">    \r\n        <fieldset class=\"fieldset\">              \r\n        <label>Tu Nombre</label>\r\n         <input class=\"class-input\" type=\"text\" name=\"input\">\r\n        </fieldset>    \r\n        <fieldset class=\"fieldset\">              \r\n        <label>Tu Bio</label>\r\n         <input class=\"class-input\" type=\"text\" name=\"input2\">\r\n        </fieldset>    \r\n        <fieldset class=\"fieldset-2\">              \r\n        <label>Tu Foto de Perfil</label>\r\n        <div class=\"dropzone\">Arrastra tu foto aqu</div>\r\n        </fieldset>    \r\n            <button type=\"submit\" class=\"button\">Enviar</button>\r\n            </form>\r\n            <button class=\"button-profiles\">Ver Perfiles</button>\r\n        `;\r\n        const style = document.createElement(\"style\");\r\n        style.textContent = `\r\n        *{box-sizing:border-box;}\r\n        body {margin:0}\r\n            .root {\r\n                width: 100%;\r\n                font-family: 'Roboto', sans-serif;\r\n                min-height: 667px;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n            }\r\n            .title {\r\n                font-family: 'Roboto', sans-serif;\r\n                text-align: center;\r\n                font-size: 80;\r\n                background-color: white;\r\n            }\r\n            .form {\r\n                display: flex;\r\n                flex-direction: column;\r\n                gap: 45px;\r\n                background-color: aquamarine;\r\n                align-items: center;\r\n                height: 100;\r\n                padding: 20px;\r\n                border-radius: 6px;\r\n            }\r\n            .label {\r\n                font-size: 25;\r\n            }\r\n            .fieldset {\r\n                border: black solid 3px;\r\n                border-radius: 6px;display: flex;\r\n                flex-direction: column;\r\n                gap: 10px;\r\n                width: 100%;\r\n                height: 80px;\r\n            }\r\n            .fieldset-2 {\r\n                border: black solid 3px;\r\n                border-radius: 6px;display: flex;\r\n                flex-direction: column;\r\n                gap: 10px;\r\n                width: 100%;\r\n                height: 100%;\r\n            }\r\n            .dropzone{\r\n                display: block;\r\n                width: 100%;\r\n                height: 100%;\r\n                text-align: center;\r\n                border: black solid 3px;\r\n            }\r\n        `;\r\n        div.classList.add(\"root\"); this.appendChild(div); this.appendChild(style)\r\n    }\r\n    listeners() {\r\n        let imageDataURL;\r\n        const formEl = this.querySelector(\".form\")\r\n        const myDropzone = new Dropzone(\".dropzone\", {\r\n            url: \"/falsa\",\r\n            autoProcessQueue: false\r\n        });\r\n        myDropzone.on(\"addedfile\", function (file) {\r\n            imageDataURL = file\r\n        });\r\n\r\n        formEl.addEventListener(\"submit\", (e) => {\r\n            e.preventDefault();\r\n            const trgt = e.target as any;\r\n            const name = trgt.input.value;\r\n            const bio = trgt.input2.value;\r\n            const image = imageDataURL.dataURL\r\n\r\n            console.log({ name, bio, image })\r\n\r\n            state.createProfile(name, bio, image)\r\n        })\r\n        const profilesButton = this.querySelector(\".button-profiles\");\r\n        profilesButton.addEventListener(\"click\", (e) => {\r\n            e.preventDefault();\r\n            state.getProfiles();\r\n        })\r\n    }\r\n})","import { Router } from \"@vaadin/router\"\r\nconst API_BASE_URL = \"http://localhost:3002\"\r\nconst state = {\r\n    data: {\r\n        profiles: [],\r\n        sent: \"\"\r\n    },\r\n    listeners: [],\r\n\r\n    getState() {\r\n        return this.data;\r\n    },\r\n    setState(newState) {\r\n        this.data = newState;\r\n        for (const cb of this.listeners) {\r\n            cb();\r\n        }\r\n        // --------------------------\r\n        console.log(\"State Changed\", this.data)\r\n    },\r\n    subscribe(callback: (any) => any) {\r\n        this.listeners.push(callback)\r\n    },\r\n    createProfile(name: string, bio: string, image: string) {\r\n        console.log(name, bio, image)\r\n        fetch(API_BASE_URL + \"/profile\", {\r\n            method: \"post\",\r\n            headers: {\r\n                \"content-type\": \"application/json\"\r\n            },\r\n            body: JSON.stringify({ name, bio, image })\r\n        }).then((res) => {\r\n            return res.json()\r\n        }).then(res => {\r\n            console.log(res)\r\n        })\r\n    },\r\n    getProfiles() {\r\n        fetch(API_BASE_URL + \"/profiles\", {\r\n            method: \"get\",\r\n            headers: {\r\n                \"content-type\": \"application/json\"\r\n            },\r\n        }).then((res) => {\r\n            return res.json()\r\n        }).then(res => {\r\n            res.forEach(p => {\r\n                const profiles = {\r\n                    name: p.name,\r\n                    bio: p.bio,\r\n                    image: p.image\r\n                }\r\n                state.data.profiles.push(profiles)\r\n                Router.go(\"/profiles\")\r\n            });\r\n\r\n            // state.data.profiles.push({\r\n            //     state.data.name = res.name,\r\n            //     state.data.bio = res.bio,\r\n            //     state.data.image = res.image\r\n            // })\r\n        })\r\n    }\r\n\r\n\r\n}\r\nexport { state }\r\n",null,"import extend from \"just-extend\";\nimport Emitter from \"./emitter\";\nimport defaultOptions from \"./options\";\n\nexport default class Dropzone extends Emitter {\n  static initClass() {\n    // Exposing the emitter class, mainly for tests\n    this.prototype.Emitter = Emitter;\n\n    /*\n     This is a list of all available events you can register on a dropzone object.\n\n     You can register an event handler like this:\n\n     dropzone.on(\"dragEnter\", function() { });\n\n     */\n    this.prototype.events = [\n      \"drop\",\n      \"dragstart\",\n      \"dragend\",\n      \"dragenter\",\n      \"dragover\",\n      \"dragleave\",\n      \"addedfile\",\n      \"addedfiles\",\n      \"removedfile\",\n      \"thumbnail\",\n      \"error\",\n      \"errormultiple\",\n      \"processing\",\n      \"processingmultiple\",\n      \"uploadprogress\",\n      \"totaluploadprogress\",\n      \"sending\",\n      \"sendingmultiple\",\n      \"success\",\n      \"successmultiple\",\n      \"canceled\",\n      \"canceledmultiple\",\n      \"complete\",\n      \"completemultiple\",\n      \"reset\",\n      \"maxfilesexceeded\",\n      \"maxfilesreached\",\n      \"queuecomplete\",\n    ];\n\n    this.prototype._thumbnailQueue = [];\n    this.prototype._processingThumbnail = false;\n  }\n\n  constructor(el, options) {\n    super();\n    let fallback, left;\n    this.element = el;\n\n    this.clickableElements = [];\n    this.listeners = [];\n    this.files = []; // All files\n\n    if (typeof this.element === \"string\") {\n      this.element = document.querySelector(this.element);\n    }\n\n    // Not checking if instance of HTMLElement or Element since IE9 is extremely weird.\n    if (!this.element || this.element.nodeType == null) {\n      throw new Error(\"Invalid dropzone element.\");\n    }\n\n    if (this.element.dropzone) {\n      throw new Error(\"Dropzone already attached.\");\n    }\n\n    // Now add this dropzone to the instances.\n    Dropzone.instances.push(this);\n\n    // Put the dropzone inside the element itself.\n    this.element.dropzone = this;\n\n    let elementOptions =\n      (left = Dropzone.optionsForElement(this.element)) != null ? left : {};\n\n    this.options = extend(\n      true,\n      {},\n      defaultOptions,\n      elementOptions,\n      options != null ? options : {}\n    );\n\n    this.options.previewTemplate = this.options.previewTemplate.replace(\n      /\\n*/g,\n      \"\"\n    );\n\n    // If the browser failed, just call the fallback and leave\n    if (this.options.forceFallback || !Dropzone.isBrowserSupported()) {\n      return this.options.fallback.call(this);\n    }\n\n    // @options.url = @element.getAttribute \"action\" unless @options.url?\n    if (this.options.url == null) {\n      this.options.url = this.element.getAttribute(\"action\");\n    }\n\n    if (!this.options.url) {\n      throw new Error(\"No URL provided.\");\n    }\n\n    if (this.options.acceptedFiles && this.options.acceptedMimeTypes) {\n      throw new Error(\n        \"You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated.\"\n      );\n    }\n\n    if (this.options.uploadMultiple && this.options.chunking) {\n      throw new Error(\"You cannot set both: uploadMultiple and chunking.\");\n    }\n\n    if (this.options.binaryBody && this.options.uploadMultiple) {\n      throw new Error(\"You cannot set both: binaryBody and uploadMultiple.\");\n    }\n\n    // Backwards compatibility\n    if (this.options.acceptedMimeTypes) {\n      this.options.acceptedFiles = this.options.acceptedMimeTypes;\n      delete this.options.acceptedMimeTypes;\n    }\n\n    // Backwards compatibility\n    if (this.options.renameFilename != null) {\n      this.options.renameFile = (file) =>\n        this.options.renameFilename.call(this, file.name, file);\n    }\n\n    if (typeof this.options.method === \"string\") {\n      this.options.method = this.options.method.toUpperCase();\n    }\n\n    if ((fallback = this.getExistingFallback()) && fallback.parentNode) {\n      // Remove the fallback\n      fallback.parentNode.removeChild(fallback);\n    }\n\n    // Display previews in the previewsContainer element or the Dropzone element unless explicitly set to false\n    if (this.options.previewsContainer !== false) {\n      if (this.options.previewsContainer) {\n        this.previewsContainer = Dropzone.getElement(\n          this.options.previewsContainer,\n          \"previewsContainer\"\n        );\n      } else {\n        this.previewsContainer = this.element;\n      }\n    }\n\n    if (this.options.clickable) {\n      if (this.options.clickable === true) {\n        this.clickableElements = [this.element];\n      } else {\n        this.clickableElements = Dropzone.getElements(\n          this.options.clickable,\n          \"clickable\"\n        );\n      }\n    }\n\n    this.init();\n  }\n\n  // Returns all files that have been accepted\n  getAcceptedFiles() {\n    return this.files.filter((file) => file.accepted).map((file) => file);\n  }\n\n  // Returns all files that have been rejected\n  // Not sure when that's going to be useful, but added for completeness.\n  getRejectedFiles() {\n    return this.files.filter((file) => !file.accepted).map((file) => file);\n  }\n\n  getFilesWithStatus(status) {\n    return this.files\n      .filter((file) => file.status === status)\n      .map((file) => file);\n  }\n\n  // Returns all files that are in the queue\n  getQueuedFiles() {\n    return this.getFilesWithStatus(Dropzone.QUEUED);\n  }\n\n  getUploadingFiles() {\n    return this.getFilesWithStatus(Dropzone.UPLOADING);\n  }\n\n  getAddedFiles() {\n    return this.getFilesWithStatus(Dropzone.ADDED);\n  }\n\n  // Files that are either queued or uploading\n  getActiveFiles() {\n    return this.files\n      .filter(\n        (file) =>\n          file.status === Dropzone.UPLOADING || file.status === Dropzone.QUEUED\n      )\n      .map((file) => file);\n  }\n\n  // The function that gets called when Dropzone is initialized. You\n  // can (and should) setup event listeners inside this function.\n  init() {\n    // In case it isn't set already\n    if (this.element.tagName === \"form\") {\n      this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n    }\n\n    if (\n      this.element.classList.contains(\"dropzone\") &&\n      !this.element.querySelector(\".dz-message\")\n    ) {\n      this.element.appendChild(\n        Dropzone.createElement(\n          `<div class=\"dz-default dz-message\"><button class=\"dz-button\" type=\"button\">${this.options.dictDefaultMessage}</button></div>`\n        )\n      );\n    }\n\n    if (this.clickableElements.length) {\n      let setupHiddenFileInput = () => {\n        if (this.hiddenFileInput) {\n          this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n        }\n        this.hiddenFileInput = document.createElement(\"input\");\n        this.hiddenFileInput.setAttribute(\"type\", \"file\");\n        if (this.options.maxFiles === null || this.options.maxFiles > 1) {\n          this.hiddenFileInput.setAttribute(\"multiple\", \"multiple\");\n        }\n        this.hiddenFileInput.className = \"dz-hidden-input\";\n\n        if (this.options.acceptedFiles !== null) {\n          this.hiddenFileInput.setAttribute(\n            \"accept\",\n            this.options.acceptedFiles\n          );\n        }\n        if (this.options.capture !== null) {\n          this.hiddenFileInput.setAttribute(\"capture\", this.options.capture);\n        }\n\n        // Making sure that no one can \"tab\" into this field.\n        this.hiddenFileInput.setAttribute(\"tabindex\", \"-1\");\n\n        // Not setting `display=\"none\"` because some browsers don't accept clicks\n        // on elements that aren't displayed.\n        this.hiddenFileInput.style.visibility = \"hidden\";\n        this.hiddenFileInput.style.position = \"absolute\";\n        this.hiddenFileInput.style.top = \"0\";\n        this.hiddenFileInput.style.left = \"0\";\n        this.hiddenFileInput.style.height = \"0\";\n        this.hiddenFileInput.style.width = \"0\";\n        Dropzone.getElement(\n          this.options.hiddenInputContainer,\n          \"hiddenInputContainer\"\n        ).appendChild(this.hiddenFileInput);\n        this.hiddenFileInput.addEventListener(\"change\", () => {\n          let { files } = this.hiddenFileInput;\n          if (files.length) {\n            for (let file of files) {\n              this.addFile(file);\n            }\n          }\n          this.emit(\"addedfiles\", files);\n          setupHiddenFileInput();\n        });\n      };\n      setupHiddenFileInput();\n    }\n\n    this.URL = window.URL !== null ? window.URL : window.webkitURL;\n\n    // Setup all event listeners on the Dropzone object itself.\n    // They're not in @setupEventListeners() because they shouldn't be removed\n    // again when the dropzone gets disabled.\n    for (let eventName of this.events) {\n      this.on(eventName, this.options[eventName]);\n    }\n\n    this.on(\"uploadprogress\", () => this.updateTotalUploadProgress());\n\n    this.on(\"removedfile\", () => this.updateTotalUploadProgress());\n\n    this.on(\"canceled\", (file) => this.emit(\"complete\", file));\n\n    // Emit a `queuecomplete` event if all files finished uploading.\n    this.on(\"complete\", (file) => {\n      if (\n        this.getAddedFiles().length === 0 &&\n        this.getUploadingFiles().length === 0 &&\n        this.getQueuedFiles().length === 0\n      ) {\n        // This needs to be deferred so that `queuecomplete` really triggers after `complete`\n        return setTimeout(() => this.emit(\"queuecomplete\"), 0);\n      }\n    });\n\n    const containsFiles = function (e) {\n      if (e.dataTransfer.types) {\n        // Because e.dataTransfer.types is an Object in\n        // IE, we need to iterate like this instead of\n        // using e.dataTransfer.types.some()\n        for (var i = 0; i < e.dataTransfer.types.length; i++) {\n          if (e.dataTransfer.types[i] === \"Files\") return true;\n        }\n      }\n      return false;\n    };\n\n    let noPropagation = function (e) {\n      // If there are no files, we don't want to stop\n      // propagation so we don't interfere with other\n      // drag and drop behaviour.\n      if (!containsFiles(e)) return;\n      e.stopPropagation();\n      if (e.preventDefault) {\n        return e.preventDefault();\n      } else {\n        return (e.returnValue = false);\n      }\n    };\n\n    // Create the listeners\n    this.listeners = [\n      {\n        element: this.element,\n        events: {\n          dragstart: (e) => {\n            return this.emit(\"dragstart\", e);\n          },\n          dragenter: (e) => {\n            noPropagation(e);\n            return this.emit(\"dragenter\", e);\n          },\n          dragover: (e) => {\n            // Makes it possible to drag files from chrome's download bar\n            // http://stackoverflow.com/questions/19526430/drag-and-drop-file-uploads-from-chrome-downloads-bar\n            // Try is required to prevent bug in Internet Explorer 11 (SCRIPT65535 exception)\n            let efct;\n            try {\n              efct = e.dataTransfer.effectAllowed;\n            } catch (error) {}\n            e.dataTransfer.dropEffect =\n              \"move\" === efct || \"linkMove\" === efct ? \"move\" : \"copy\";\n\n            noPropagation(e);\n            return this.emit(\"dragover\", e);\n          },\n          dragleave: (e) => {\n            return this.emit(\"dragleave\", e);\n          },\n          drop: (e) => {\n            noPropagation(e);\n            return this.drop(e);\n          },\n          dragend: (e) => {\n            return this.emit(\"dragend\", e);\n          },\n        },\n\n        // This is disabled right now, because the browsers don't implement it properly.\n        // \"paste\": (e) =>\n        //   noPropagation e\n        //   @paste e\n      },\n    ];\n\n    this.clickableElements.forEach((clickableElement) => {\n      return this.listeners.push({\n        element: clickableElement,\n        events: {\n          click: (evt) => {\n            // Only the actual dropzone or the message element should trigger file selection\n            if (\n              clickableElement !== this.element ||\n              evt.target === this.element ||\n              Dropzone.elementInside(\n                evt.target,\n                this.element.querySelector(\".dz-message\")\n              )\n            ) {\n              this.hiddenFileInput.click(); // Forward the click\n            }\n            return true;\n          },\n        },\n      });\n    });\n\n    this.enable();\n\n    return this.options.init.call(this);\n  }\n\n  // Not fully tested yet\n  destroy() {\n    this.disable();\n    this.removeAllFiles(true);\n    if (\n      this.hiddenFileInput != null ? this.hiddenFileInput.parentNode : undefined\n    ) {\n      this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput);\n      this.hiddenFileInput = null;\n    }\n    delete this.element.dropzone;\n    return Dropzone.instances.splice(Dropzone.instances.indexOf(this), 1);\n  }\n\n  updateTotalUploadProgress() {\n    let totalUploadProgress;\n    let totalBytesSent = 0;\n    let totalBytes = 0;\n\n    let activeFiles = this.getActiveFiles();\n\n    if (activeFiles.length) {\n      for (let file of this.getActiveFiles()) {\n        totalBytesSent += file.upload.bytesSent;\n        totalBytes += file.upload.total;\n      }\n      totalUploadProgress = (100 * totalBytesSent) / totalBytes;\n    } else {\n      totalUploadProgress = 100;\n    }\n\n    return this.emit(\n      \"totaluploadprogress\",\n      totalUploadProgress,\n      totalBytes,\n      totalBytesSent\n    );\n  }\n\n  // @options.paramName can be a function taking one parameter rather than a string.\n  // A parameter name for a file is obtained simply by calling this with an index number.\n  _getParamName(n) {\n    if (typeof this.options.paramName === \"function\") {\n      return this.options.paramName(n);\n    } else {\n      return `${this.options.paramName}${\n        this.options.uploadMultiple ? `[${n}]` : \"\"\n      }`;\n    }\n  }\n\n  // If @options.renameFile is a function,\n  // the function will be used to rename the file.name before appending it to the formData\n  _renameFile(file) {\n    if (typeof this.options.renameFile !== \"function\") {\n      return file.name;\n    }\n    return this.options.renameFile(file);\n  }\n\n  // Returns a form that can be used as fallback if the browser does not support DragnDrop\n  //\n  // If the dropzone is already a form, only the input field and button are returned. Otherwise a complete form element is provided.\n  // This code has to pass in IE7 :(\n  getFallbackForm() {\n    let existingFallback, form;\n    if ((existingFallback = this.getExistingFallback())) {\n      return existingFallback;\n    }\n\n    let fieldsString = '<div class=\"dz-fallback\">';\n    if (this.options.dictFallbackText) {\n      fieldsString += `<p>${this.options.dictFallbackText}</p>`;\n    }\n    fieldsString += `<input type=\"file\" name=\"${this._getParamName(0)}\" ${\n      this.options.uploadMultiple ? 'multiple=\"multiple\"' : undefined\n    } /><input type=\"submit\" value=\"Upload!\"></div>`;\n\n    let fields = Dropzone.createElement(fieldsString);\n    if (this.element.tagName !== \"FORM\") {\n      form = Dropzone.createElement(\n        `<form action=\"${this.options.url}\" enctype=\"multipart/form-data\" method=\"${this.options.method}\"></form>`\n      );\n      form.appendChild(fields);\n    } else {\n      // Make sure that the enctype and method attributes are set properly\n      this.element.setAttribute(\"enctype\", \"multipart/form-data\");\n      this.element.setAttribute(\"method\", this.options.method);\n    }\n    return form != null ? form : fields;\n  }\n\n  // Returns the fallback elements if they exist already\n  //\n  // This code has to pass in IE7 :(\n  getExistingFallback() {\n    let getFallback = function (elements) {\n      for (let el of elements) {\n        if (/(^| )fallback($| )/.test(el.className)) {\n          return el;\n        }\n      }\n    };\n\n    for (let tagName of [\"div\", \"form\"]) {\n      var fallback;\n      if (\n        (fallback = getFallback(this.element.getElementsByTagName(tagName)))\n      ) {\n        return fallback;\n      }\n    }\n  }\n\n  // Activates all listeners stored in @listeners\n  setupEventListeners() {\n    return this.listeners.map((elementListeners) =>\n      (() => {\n        let result = [];\n        for (let event in elementListeners.events) {\n          let listener = elementListeners.events[event];\n          result.push(\n            elementListeners.element.addEventListener(event, listener, false)\n          );\n        }\n        return result;\n      })()\n    );\n  }\n\n  // Deactivates all listeners stored in @listeners\n  removeEventListeners() {\n    return this.listeners.map((elementListeners) =>\n      (() => {\n        let result = [];\n        for (let event in elementListeners.events) {\n          let listener = elementListeners.events[event];\n          result.push(\n            elementListeners.element.removeEventListener(event, listener, false)\n          );\n        }\n        return result;\n      })()\n    );\n  }\n\n  // Removes all event listeners and cancels all files in the queue or being processed.\n  disable() {\n    this.clickableElements.forEach((element) =>\n      element.classList.remove(\"dz-clickable\")\n    );\n    this.removeEventListeners();\n    this.disabled = true;\n\n    return this.files.map((file) => this.cancelUpload(file));\n  }\n\n  enable() {\n    delete this.disabled;\n    this.clickableElements.forEach((element) =>\n      element.classList.add(\"dz-clickable\")\n    );\n    return this.setupEventListeners();\n  }\n\n  // Returns a nicely formatted filesize\n  filesize(size) {\n    let selectedSize = 0;\n    let selectedUnit = \"b\";\n\n    if (size > 0) {\n      let units = [\"tb\", \"gb\", \"mb\", \"kb\", \"b\"];\n\n      for (let i = 0; i < units.length; i++) {\n        let unit = units[i];\n        let cutoff = Math.pow(this.options.filesizeBase, 4 - i) / 10;\n\n        if (size >= cutoff) {\n          selectedSize = size / Math.pow(this.options.filesizeBase, 4 - i);\n          selectedUnit = unit;\n          break;\n        }\n      }\n\n      selectedSize = Math.round(10 * selectedSize) / 10; // Cutting of digits\n    }\n\n    return `<strong>${selectedSize}</strong> ${this.options.dictFileSizeUnits[selectedUnit]}`;\n  }\n\n  // Adds or removes the `dz-max-files-reached` class from the form.\n  _updateMaxFilesReachedClass() {\n    if (\n      this.options.maxFiles != null &&\n      this.getAcceptedFiles().length >= this.options.maxFiles\n    ) {\n      if (this.getAcceptedFiles().length === this.options.maxFiles) {\n        this.emit(\"maxfilesreached\", this.files);\n      }\n      return this.element.classList.add(\"dz-max-files-reached\");\n    } else {\n      return this.element.classList.remove(\"dz-max-files-reached\");\n    }\n  }\n\n  drop(e) {\n    if (!e.dataTransfer) {\n      return;\n    }\n    this.emit(\"drop\", e);\n\n    // Convert the FileList to an Array\n    // This is necessary for IE11\n    let files = [];\n    for (let i = 0; i < e.dataTransfer.files.length; i++) {\n      files[i] = e.dataTransfer.files[i];\n    }\n\n    // Even if it's a folder, files.length will contain the folders.\n    if (files.length) {\n      let { items } = e.dataTransfer;\n      if (items && items.length && items[0].webkitGetAsEntry != null) {\n        // The browser supports dropping of folders, so handle items instead of files\n        this._addFilesFromItems(items);\n      } else {\n        this.handleFiles(files);\n      }\n    }\n\n    this.emit(\"addedfiles\", files);\n  }\n\n  paste(e) {\n    if (\n      __guard__(e != null ? e.clipboardData : undefined, (x) => x.items) == null\n    ) {\n      return;\n    }\n\n    this.emit(\"paste\", e);\n    let { items } = e.clipboardData;\n\n    if (items.length) {\n      return this._addFilesFromItems(items);\n    }\n  }\n\n  handleFiles(files) {\n    for (let file of files) {\n      this.addFile(file);\n    }\n  }\n\n  // When a folder is dropped (or files are pasted), items must be handled\n  // instead of files.\n  _addFilesFromItems(items) {\n    return (() => {\n      let result = [];\n      for (let item of items) {\n        var entry;\n        if (\n          item.webkitGetAsEntry != null &&\n          (entry = item.webkitGetAsEntry())\n        ) {\n          if (entry.isFile) {\n            result.push(this.addFile(item.getAsFile()));\n          } else if (entry.isDirectory) {\n            // Append all files from that directory to files\n            result.push(this._addFilesFromDirectory(entry, entry.name));\n          } else {\n            result.push(undefined);\n          }\n        } else if (item.getAsFile != null) {\n          if (item.kind == null || item.kind === \"file\") {\n            result.push(this.addFile(item.getAsFile()));\n          } else {\n            result.push(undefined);\n          }\n        } else {\n          result.push(undefined);\n        }\n      }\n      return result;\n    })();\n  }\n\n  // Goes through the directory, and adds each file it finds recursively\n  _addFilesFromDirectory(directory, path) {\n    let dirReader = directory.createReader();\n\n    let errorHandler = (error) =>\n      __guardMethod__(console, \"log\", (o) => o.log(error));\n\n    var readEntries = () => {\n      return dirReader.readEntries((entries) => {\n        if (entries.length > 0) {\n          for (let entry of entries) {\n            if (entry.isFile) {\n              entry.file((file) => {\n                if (\n                  this.options.ignoreHiddenFiles &&\n                  file.name.substring(0, 1) === \".\"\n                ) {\n                  return;\n                }\n                file.fullPath = `${path}/${file.name}`;\n                return this.addFile(file);\n              });\n            } else if (entry.isDirectory) {\n              this._addFilesFromDirectory(entry, `${path}/${entry.name}`);\n            }\n          }\n\n          // Recursively call readEntries() again, since browser only handle\n          // the first 100 entries.\n          // See: https://developer.mozilla.org/en-US/docs/Web/API/DirectoryReader#readEntries\n          readEntries();\n        }\n        return null;\n      }, errorHandler);\n    };\n\n    return readEntries();\n  }\n\n  // If `done()` is called without argument the file is accepted\n  // If you call it with an error message, the file is rejected\n  // (This allows for asynchronous validation)\n  //\n  // This function checks the filesize, and if the file.type passes the\n  // `acceptedFiles` check.\n  accept(file, done) {\n    if (\n      this.options.maxFilesize &&\n      file.size > this.options.maxFilesize * 1024 * 1024\n    ) {\n      done(\n        this.options.dictFileTooBig\n          .replace(\"{{filesize}}\", Math.round(file.size / 1024 / 10.24) / 100)\n          .replace(\"{{maxFilesize}}\", this.options.maxFilesize)\n      );\n    } else if (!Dropzone.isValidFile(file, this.options.acceptedFiles)) {\n      done(this.options.dictInvalidFileType);\n    } else if (\n      this.options.maxFiles != null &&\n      this.getAcceptedFiles().length >= this.options.maxFiles\n    ) {\n      done(\n        this.options.dictMaxFilesExceeded.replace(\n          \"{{maxFiles}}\",\n          this.options.maxFiles\n        )\n      );\n      this.emit(\"maxfilesexceeded\", file);\n    } else {\n      this.options.accept.call(this, file, done);\n    }\n  }\n\n  addFile(file) {\n    file.upload = {\n      uuid: Dropzone.uuidv4(),\n      progress: 0,\n      // Setting the total upload size to file.size for the beginning\n      // It's actual different than the size to be transmitted.\n      total: file.size,\n      bytesSent: 0,\n      filename: this._renameFile(file),\n      // Not setting chunking information here, because the acutal data  and\n      // thus the chunks  might change if `options.transformFile` is set\n      // and does something to the data.\n    };\n    this.files.push(file);\n\n    file.status = Dropzone.ADDED;\n\n    this.emit(\"addedfile\", file);\n\n    this._enqueueThumbnail(file);\n\n    this.accept(file, (error) => {\n      if (error) {\n        file.accepted = false;\n        this._errorProcessing([file], error); // Will set the file.status\n      } else {\n        file.accepted = true;\n        if (this.options.autoQueue) {\n          this.enqueueFile(file);\n        } // Will set .accepted = true\n      }\n      this._updateMaxFilesReachedClass();\n    });\n  }\n\n  // Wrapper for enqueueFile\n  enqueueFiles(files) {\n    for (let file of files) {\n      this.enqueueFile(file);\n    }\n    return null;\n  }\n\n  enqueueFile(file) {\n    if (file.status === Dropzone.ADDED && file.accepted === true) {\n      file.status = Dropzone.QUEUED;\n      if (this.options.autoProcessQueue) {\n        return setTimeout(() => this.processQueue(), 0); // Deferring the call\n      }\n    } else {\n      throw new Error(\n        \"This file can't be queued because it has already been processed or was rejected.\"\n      );\n    }\n  }\n\n  _enqueueThumbnail(file) {\n    if (\n      this.options.createImageThumbnails &&\n      file.type.match(/image.*/) &&\n      file.size <= this.options.maxThumbnailFilesize * 1024 * 1024\n    ) {\n      this._thumbnailQueue.push(file);\n      return setTimeout(() => this._processThumbnailQueue(), 0); // Deferring the call\n    }\n  }\n\n  _processThumbnailQueue() {\n    if (this._processingThumbnail || this._thumbnailQueue.length === 0) {\n      return;\n    }\n\n    this._processingThumbnail = true;\n    let file = this._thumbnailQueue.shift();\n    return this.createThumbnail(\n      file,\n      this.options.thumbnailWidth,\n      this.options.thumbnailHeight,\n      this.options.thumbnailMethod,\n      true,\n      (dataUrl) => {\n        this.emit(\"thumbnail\", file, dataUrl);\n        this._processingThumbnail = false;\n        return this._processThumbnailQueue();\n      }\n    );\n  }\n\n  // Can be called by the user to remove a file\n  removeFile(file) {\n    if (file.status === Dropzone.UPLOADING) {\n      this.cancelUpload(file);\n    }\n    this.files = without(this.files, file);\n\n    this.emit(\"removedfile\", file);\n    if (this.files.length === 0) {\n      return this.emit(\"reset\");\n    }\n  }\n\n  // Removes all files that aren't currently processed from the list\n  removeAllFiles(cancelIfNecessary) {\n    // Create a copy of files since removeFile() changes the @files array.\n    if (cancelIfNecessary == null) {\n      cancelIfNecessary = false;\n    }\n    for (let file of this.files.slice()) {\n      if (file.status !== Dropzone.UPLOADING || cancelIfNecessary) {\n        this.removeFile(file);\n      }\n    }\n    return null;\n  }\n\n  // Resizes an image before it gets sent to the server. This function is the default behavior of\n  // `options.transformFile` if `resizeWidth` or `resizeHeight` are set. The callback is invoked with\n  // the resized blob.\n  resizeImage(file, width, height, resizeMethod, callback) {\n    return this.createThumbnail(\n      file,\n      width,\n      height,\n      resizeMethod,\n      true,\n      (dataUrl, canvas) => {\n        if (canvas == null) {\n          // The image has not been resized\n          return callback(file);\n        } else {\n          let { resizeMimeType } = this.options;\n          if (resizeMimeType == null) {\n            resizeMimeType = file.type;\n          }\n          let resizedDataURL = canvas.toDataURL(\n            resizeMimeType,\n            this.options.resizeQuality\n          );\n          if (\n            resizeMimeType === \"image/jpeg\" ||\n            resizeMimeType === \"image/jpg\"\n          ) {\n            // Now add the original EXIF information\n            resizedDataURL = ExifRestore.restore(file.dataURL, resizedDataURL);\n          }\n          return callback(Dropzone.dataURItoBlob(resizedDataURL));\n        }\n      }\n    );\n  }\n\n  createThumbnail(file, width, height, resizeMethod, fixOrientation, callback) {\n    let fileReader = new FileReader();\n\n    fileReader.onload = () => {\n      file.dataURL = fileReader.result;\n\n      // Don't bother creating a thumbnail for SVG images since they're vector\n      if (file.type === \"image/svg+xml\") {\n        if (callback != null) {\n          callback(fileReader.result);\n        }\n        return;\n      }\n\n      this.createThumbnailFromUrl(\n        file,\n        width,\n        height,\n        resizeMethod,\n        fixOrientation,\n        callback\n      );\n    };\n\n    fileReader.readAsDataURL(file);\n  }\n\n  // `mockFile` needs to have these attributes:\n  //\n  //     { name: 'name', size: 12345, imageUrl: '' }\n  //\n  // `callback` will be invoked when the image has been downloaded and displayed.\n  // `crossOrigin` will be added to the `img` tag when accessing the file.\n  displayExistingFile(\n    mockFile,\n    imageUrl,\n    callback,\n    crossOrigin,\n    resizeThumbnail = true\n  ) {\n    this.emit(\"addedfile\", mockFile);\n    this.emit(\"complete\", mockFile);\n\n    if (!resizeThumbnail) {\n      this.emit(\"thumbnail\", mockFile, imageUrl);\n      if (callback) callback();\n    } else {\n      let onDone = (thumbnail) => {\n        this.emit(\"thumbnail\", mockFile, thumbnail);\n        if (callback) callback();\n      };\n      mockFile.dataURL = imageUrl;\n\n      this.createThumbnailFromUrl(\n        mockFile,\n        this.options.thumbnailWidth,\n        this.options.thumbnailHeight,\n        this.options.thumbnailMethod,\n        this.options.fixOrientation,\n        onDone,\n        crossOrigin\n      );\n    }\n  }\n\n  createThumbnailFromUrl(\n    file,\n    width,\n    height,\n    resizeMethod,\n    fixOrientation,\n    callback,\n    crossOrigin\n  ) {\n    // Not using `new Image` here because of a bug in latest Chrome versions.\n    // See https://github.com/enyo/dropzone/pull/226\n    let img = document.createElement(\"img\");\n\n    if (crossOrigin) {\n      img.crossOrigin = crossOrigin;\n    }\n\n    // fixOrientation is not needed anymore with browsers handling imageOrientation\n    fixOrientation =\n      getComputedStyle(document.body)[\"imageOrientation\"] == \"from-image\"\n        ? false\n        : fixOrientation;\n\n    img.onload = () => {\n      let loadExif = (callback) => callback(1);\n      if (typeof EXIF !== \"undefined\" && EXIF !== null && fixOrientation) {\n        loadExif = (callback) =>\n          EXIF.getData(img, function () {\n            return callback(EXIF.getTag(this, \"Orientation\"));\n          });\n      }\n\n      return loadExif((orientation) => {\n        file.width = img.width;\n        file.height = img.height;\n\n        let resizeInfo = this.options.resize.call(\n          this,\n          file,\n          width,\n          height,\n          resizeMethod\n        );\n\n        let canvas = document.createElement(\"canvas\");\n        let ctx = canvas.getContext(\"2d\");\n\n        canvas.width = resizeInfo.trgWidth;\n        canvas.height = resizeInfo.trgHeight;\n\n        if (orientation > 4) {\n          canvas.width = resizeInfo.trgHeight;\n          canvas.height = resizeInfo.trgWidth;\n        }\n\n        switch (orientation) {\n          case 2:\n            // horizontal flip\n            ctx.translate(canvas.width, 0);\n            ctx.scale(-1, 1);\n            break;\n          case 3:\n            // 180 rotate left\n            ctx.translate(canvas.width, canvas.height);\n            ctx.rotate(Math.PI);\n            break;\n          case 4:\n            // vertical flip\n            ctx.translate(0, canvas.height);\n            ctx.scale(1, -1);\n            break;\n          case 5:\n            // vertical flip + 90 rotate right\n            ctx.rotate(0.5 * Math.PI);\n            ctx.scale(1, -1);\n            break;\n          case 6:\n            // 90 rotate right\n            ctx.rotate(0.5 * Math.PI);\n            ctx.translate(0, -canvas.width);\n            break;\n          case 7:\n            // horizontal flip + 90 rotate right\n            ctx.rotate(0.5 * Math.PI);\n            ctx.translate(canvas.height, -canvas.width);\n            ctx.scale(-1, 1);\n            break;\n          case 8:\n            // 90 rotate left\n            ctx.rotate(-0.5 * Math.PI);\n            ctx.translate(-canvas.height, 0);\n            break;\n        }\n\n        // This is a bugfix for iOS' scaling bug.\n        drawImageIOSFix(\n          ctx,\n          img,\n          resizeInfo.srcX != null ? resizeInfo.srcX : 0,\n          resizeInfo.srcY != null ? resizeInfo.srcY : 0,\n          resizeInfo.srcWidth,\n          resizeInfo.srcHeight,\n          resizeInfo.trgX != null ? resizeInfo.trgX : 0,\n          resizeInfo.trgY != null ? resizeInfo.trgY : 0,\n          resizeInfo.trgWidth,\n          resizeInfo.trgHeight\n        );\n\n        let thumbnail = canvas.toDataURL(\"image/png\");\n\n        if (callback != null) {\n          return callback(thumbnail, canvas);\n        }\n      });\n    };\n\n    if (callback != null) {\n      img.onerror = callback;\n    }\n\n    return (img.src = file.dataURL);\n  }\n\n  // Goes through the queue and processes files if there aren't too many already.\n  processQueue() {\n    let { parallelUploads } = this.options;\n    let processingLength = this.getUploadingFiles().length;\n    let i = processingLength;\n\n    // There are already at least as many files uploading than should be\n    if (processingLength >= parallelUploads) {\n      return;\n    }\n\n    let queuedFiles = this.getQueuedFiles();\n\n    if (!(queuedFiles.length > 0)) {\n      return;\n    }\n\n    if (this.options.uploadMultiple) {\n      // The files should be uploaded in one request\n      return this.processFiles(\n        queuedFiles.slice(0, parallelUploads - processingLength)\n      );\n    } else {\n      while (i < parallelUploads) {\n        if (!queuedFiles.length) {\n          return;\n        } // Nothing left to process\n        this.processFile(queuedFiles.shift());\n        i++;\n      }\n    }\n  }\n\n  // Wrapper for `processFiles`\n  processFile(file) {\n    return this.processFiles([file]);\n  }\n\n  // Loads the file, then calls finishedLoading()\n  processFiles(files) {\n    for (let file of files) {\n      file.processing = true; // Backwards compatibility\n      file.status = Dropzone.UPLOADING;\n\n      this.emit(\"processing\", file);\n    }\n\n    if (this.options.uploadMultiple) {\n      this.emit(\"processingmultiple\", files);\n    }\n\n    return this.uploadFiles(files);\n  }\n\n  _getFilesWithXhr(xhr) {\n    let files;\n    return (files = this.files\n      .filter((file) => file.xhr === xhr)\n      .map((file) => file));\n  }\n\n  // Cancels the file upload and sets the status to CANCELED\n  // **if** the file is actually being uploaded.\n  // If it's still in the queue, the file is being removed from it and the status\n  // set to CANCELED.\n  cancelUpload(file) {\n    if (file.status === Dropzone.UPLOADING) {\n      let groupedFiles = this._getFilesWithXhr(file.xhr);\n      for (let groupedFile of groupedFiles) {\n        groupedFile.status = Dropzone.CANCELED;\n      }\n      if (typeof file.xhr !== \"undefined\") {\n        file.xhr.abort();\n      }\n      for (let groupedFile of groupedFiles) {\n        this.emit(\"canceled\", groupedFile);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"canceledmultiple\", groupedFiles);\n      }\n    } else if (\n      file.status === Dropzone.ADDED ||\n      file.status === Dropzone.QUEUED\n    ) {\n      file.status = Dropzone.CANCELED;\n      this.emit(\"canceled\", file);\n      if (this.options.uploadMultiple) {\n        this.emit(\"canceledmultiple\", [file]);\n      }\n    }\n\n    if (this.options.autoProcessQueue) {\n      return this.processQueue();\n    }\n  }\n\n  resolveOption(option, ...args) {\n    if (typeof option === \"function\") {\n      return option.apply(this, args);\n    }\n    return option;\n  }\n\n  uploadFile(file) {\n    return this.uploadFiles([file]);\n  }\n\n  uploadFiles(files) {\n    this._transformFiles(files, (transformedFiles) => {\n      if (this.options.chunking) {\n        // Chunking is not allowed to be used with `uploadMultiple` so we know\n        // that there is only __one__file.\n        let transformedFile = transformedFiles[0];\n        files[0].upload.chunked =\n          this.options.chunking &&\n          (this.options.forceChunking ||\n            transformedFile.size > this.options.chunkSize);\n        files[0].upload.totalChunkCount = Math.ceil(\n          transformedFile.size / this.options.chunkSize\n        );\n      }\n\n      if (files[0].upload.chunked) {\n        // This file should be sent in chunks!\n\n        // If the chunking option is set, we **know** that there can only be **one** file, since\n        // uploadMultiple is not allowed with this option.\n        let file = files[0];\n        let transformedFile = transformedFiles[0];\n        let startedChunkCount = 0;\n\n        file.upload.chunks = [];\n\n        let handleNextChunk = () => {\n          let chunkIndex = 0;\n\n          // Find the next item in file.upload.chunks that is not defined yet.\n          while (file.upload.chunks[chunkIndex] !== undefined) {\n            chunkIndex++;\n          }\n\n          // This means, that all chunks have already been started.\n          if (chunkIndex >= file.upload.totalChunkCount) return;\n\n          startedChunkCount++;\n\n          let start = chunkIndex * this.options.chunkSize;\n          let end = Math.min(\n            start + this.options.chunkSize,\n            transformedFile.size\n          );\n\n          let dataBlock = {\n            name: this._getParamName(0),\n            data: transformedFile.webkitSlice\n              ? transformedFile.webkitSlice(start, end)\n              : transformedFile.slice(start, end),\n            filename: file.upload.filename,\n            chunkIndex: chunkIndex,\n          };\n\n          file.upload.chunks[chunkIndex] = {\n            file: file,\n            index: chunkIndex,\n            dataBlock: dataBlock, // In case we want to retry.\n            status: Dropzone.UPLOADING,\n            progress: 0,\n            retries: 0, // The number of times this block has been retried.\n          };\n\n          this._uploadData(files, [dataBlock]);\n        };\n\n        file.upload.finishedChunkUpload = (chunk, response) => {\n          let allFinished = true;\n          chunk.status = Dropzone.SUCCESS;\n\n          // Clear the data from the chunk\n          chunk.dataBlock = null;\n          chunk.response = chunk.xhr.responseText;\n          chunk.responseHeaders = chunk.xhr.getAllResponseHeaders();\n          // Leaving this reference to xhr will cause memory leaks.\n          chunk.xhr = null;\n\n          for (let i = 0; i < file.upload.totalChunkCount; i++) {\n            if (file.upload.chunks[i] === undefined) {\n              return handleNextChunk();\n            }\n            if (file.upload.chunks[i].status !== Dropzone.SUCCESS) {\n              allFinished = false;\n            }\n          }\n\n          if (allFinished) {\n            this.options.chunksUploaded(file, () => {\n              this._finished(files, response, null);\n            });\n          }\n        };\n\n        if (this.options.parallelChunkUploads) {\n          for (let i = 0; i < file.upload.totalChunkCount; i++) {\n            handleNextChunk();\n          }\n        } else {\n          handleNextChunk();\n        }\n      } else {\n        let dataBlocks = [];\n        for (let i = 0; i < files.length; i++) {\n          dataBlocks[i] = {\n            name: this._getParamName(i),\n            data: transformedFiles[i],\n            filename: files[i].upload.filename,\n          };\n        }\n        this._uploadData(files, dataBlocks);\n      }\n    });\n  }\n\n  /// Returns the right chunk for given file and xhr\n  _getChunk(file, xhr) {\n    for (let i = 0; i < file.upload.totalChunkCount; i++) {\n      if (\n        file.upload.chunks[i] !== undefined &&\n        file.upload.chunks[i].xhr === xhr\n      ) {\n        return file.upload.chunks[i];\n      }\n    }\n  }\n\n  // This function actually uploads the file(s) to the server.\n  //\n  //  If dataBlocks contains the actual data to upload (meaning, that this could\n  // either be transformed files, or individual chunks for chunked upload) then\n  // they will be used for the actual data to upload.\n  _uploadData(files, dataBlocks) {\n    let xhr = new XMLHttpRequest();\n\n    // Put the xhr object in the file objects to be able to reference it later.\n    for (let file of files) {\n      file.xhr = xhr;\n    }\n    if (files[0].upload.chunked) {\n      // Put the xhr object in the right chunk object, so it can be associated\n      // later, and found with _getChunk.\n      files[0].upload.chunks[dataBlocks[0].chunkIndex].xhr = xhr;\n    }\n\n    let method = this.resolveOption(this.options.method, files, dataBlocks);\n    let url = this.resolveOption(this.options.url, files, dataBlocks);\n    xhr.open(method, url, true);\n\n    // Setting the timeout after open because of IE11 issue: https://gitlab.com/meno/dropzone/issues/8\n    let timeout = this.resolveOption(this.options.timeout, files);\n    if (timeout) xhr.timeout = this.resolveOption(this.options.timeout, files);\n\n    // Has to be after `.open()`. See https://github.com/enyo/dropzone/issues/179\n    xhr.withCredentials = !!this.options.withCredentials;\n\n    xhr.onload = (e) => {\n      this._finishedUploading(files, xhr, e);\n    };\n\n    xhr.ontimeout = () => {\n      this._handleUploadError(\n        files,\n        xhr,\n        `Request timedout after ${this.options.timeout / 1000} seconds`\n      );\n    };\n\n    xhr.onerror = () => {\n      this._handleUploadError(files, xhr);\n    };\n\n    // Some browsers do not have the .upload property\n    let progressObj = xhr.upload != null ? xhr.upload : xhr;\n    progressObj.onprogress = (e) =>\n      this._updateFilesUploadProgress(files, xhr, e);\n\n    let headers = this.options.defaultHeaders\n      ? {\n          Accept: \"application/json\",\n          \"Cache-Control\": \"no-cache\",\n          \"X-Requested-With\": \"XMLHttpRequest\",\n        }\n      : {};\n\n    if (this.options.binaryBody) {\n      headers[\"Content-Type\"] = files[0].type;\n    }\n\n    if (this.options.headers) {\n      extend(headers, this.options.headers);\n    }\n\n    for (let headerName in headers) {\n      let headerValue = headers[headerName];\n      if (headerValue) {\n        xhr.setRequestHeader(headerName, headerValue);\n      }\n    }\n\n    if (this.options.binaryBody) {\n      // Since the file is going to be sent as binary body, it doesn't make\n      // any sense to generate `FormData` for it.\n      for (let file of files) {\n        this.emit(\"sending\", file, xhr);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"sendingmultiple\", files, xhr);\n      }\n      this.submitRequest(xhr, null, files);\n    } else {\n      let formData = new FormData();\n\n      // Adding all @options parameters\n      if (this.options.params) {\n        let additionalParams = this.options.params;\n        if (typeof additionalParams === \"function\") {\n          additionalParams = additionalParams.call(\n            this,\n            files,\n            xhr,\n            files[0].upload.chunked ? this._getChunk(files[0], xhr) : null\n          );\n        }\n\n        for (let key in additionalParams) {\n          let value = additionalParams[key];\n          if (Array.isArray(value)) {\n            // The additional parameter contains an array,\n            // so lets iterate over it to attach each value\n            // individually.\n            for (let i = 0; i < value.length; i++) {\n              formData.append(key, value[i]);\n            }\n          } else {\n            formData.append(key, value);\n          }\n        }\n      }\n\n      // Let the user add additional data if necessary\n      for (let file of files) {\n        this.emit(\"sending\", file, xhr, formData);\n      }\n      if (this.options.uploadMultiple) {\n        this.emit(\"sendingmultiple\", files, xhr, formData);\n      }\n\n      this._addFormElementData(formData);\n\n      // Finally add the files\n      // Has to be last because some servers (eg: S3) expect the file to be the last parameter\n      for (let i = 0; i < dataBlocks.length; i++) {\n        let dataBlock = dataBlocks[i];\n        formData.append(dataBlock.name, dataBlock.data, dataBlock.filename);\n      }\n\n      this.submitRequest(xhr, formData, files);\n    }\n  }\n\n  // Transforms all files with this.options.transformFile and invokes done with the transformed files when done.\n  _transformFiles(files, done) {\n    let transformedFiles = [];\n    // Clumsy way of handling asynchronous calls, until I get to add a proper Future library.\n    let doneCounter = 0;\n    for (let i = 0; i < files.length; i++) {\n      this.options.transformFile.call(this, files[i], (transformedFile) => {\n        transformedFiles[i] = transformedFile;\n        if (++doneCounter === files.length) {\n          done(transformedFiles);\n        }\n      });\n    }\n  }\n\n  // Takes care of adding other input elements of the form to the AJAX request\n  _addFormElementData(formData) {\n    // Take care of other input elements\n    if (this.element.tagName === \"FORM\") {\n      for (let input of this.element.querySelectorAll(\n        \"input, textarea, select, button\"\n      )) {\n        let inputName = input.getAttribute(\"name\");\n        let inputType = input.getAttribute(\"type\");\n        if (inputType) inputType = inputType.toLowerCase();\n\n        // If the input doesn't have a name, we can't use it.\n        if (typeof inputName === \"undefined\" || inputName === null) continue;\n\n        if (input.tagName === \"SELECT\" && input.hasAttribute(\"multiple\")) {\n          // Possibly multiple values\n          for (let option of input.options) {\n            if (option.selected) {\n              formData.append(inputName, option.value);\n            }\n          }\n        } else if (\n          !inputType ||\n          (inputType !== \"checkbox\" && inputType !== \"radio\") ||\n          input.checked\n        ) {\n          formData.append(inputName, input.value);\n        }\n      }\n    }\n  }\n\n  // Invoked when there is new progress information about given files.\n  // If e is not provided, it is assumed that the upload is finished.\n  _updateFilesUploadProgress(files, xhr, e) {\n    if (!files[0].upload.chunked) {\n      // Handle file uploads without chunking\n      for (let file of files) {\n        if (\n          file.upload.total &&\n          file.upload.bytesSent &&\n          file.upload.bytesSent == file.upload.total\n        ) {\n          // If both, the `total` and `bytesSent` have already been set, and\n          // they are equal (meaning progress is at 100%), we can skip this\n          // file, since an upload progress shouldn't go down.\n          continue;\n        }\n\n        if (e) {\n          file.upload.progress = (100 * e.loaded) / e.total;\n          file.upload.total = e.total;\n          file.upload.bytesSent = e.loaded;\n        } else {\n          // No event, so we're at 100%\n          file.upload.progress = 100;\n          file.upload.bytesSent = file.upload.total;\n        }\n\n        this.emit(\n          \"uploadprogress\",\n          file,\n          file.upload.progress,\n          file.upload.bytesSent\n        );\n      }\n    } else {\n      // Handle chunked file uploads\n\n      // Chunked upload is not compatible with uploading multiple files in one\n      // request, so we know there's only one file.\n      let file = files[0];\n\n      // Since this is a chunked upload, we need to update the appropriate chunk\n      // progress.\n      let chunk = this._getChunk(file, xhr);\n\n      if (e) {\n        chunk.progress = (100 * e.loaded) / e.total;\n        chunk.total = e.total;\n        chunk.bytesSent = e.loaded;\n      } else {\n        // No event, so we're at 100%\n        chunk.progress = 100;\n        chunk.bytesSent = chunk.total;\n      }\n\n      // Now tally the *file* upload progress from its individual chunks\n      file.upload.progress = 0;\n      file.upload.total = 0;\n      file.upload.bytesSent = 0;\n      for (let i = 0; i < file.upload.totalChunkCount; i++) {\n        if (\n          file.upload.chunks[i] &&\n          typeof file.upload.chunks[i].progress !== \"undefined\"\n        ) {\n          file.upload.progress += file.upload.chunks[i].progress;\n          file.upload.total += file.upload.chunks[i].total;\n          file.upload.bytesSent += file.upload.chunks[i].bytesSent;\n        }\n      }\n      // Since the process is a percentage, we need to divide by the amount of\n      // chunks we've used.\n      file.upload.progress = file.upload.progress / file.upload.totalChunkCount;\n\n      this.emit(\n        \"uploadprogress\",\n        file,\n        file.upload.progress,\n        file.upload.bytesSent\n      );\n    }\n  }\n\n  _finishedUploading(files, xhr, e) {\n    let response;\n\n    if (files[0].status === Dropzone.CANCELED) {\n      return;\n    }\n\n    if (xhr.readyState !== 4) {\n      return;\n    }\n\n    if (xhr.responseType !== \"arraybuffer\" && xhr.responseType !== \"blob\") {\n      response = xhr.responseText;\n\n      if (\n        xhr.getResponseHeader(\"content-type\") &&\n        ~xhr.getResponseHeader(\"content-type\").indexOf(\"application/json\")\n      ) {\n        try {\n          response = JSON.parse(response);\n        } catch (error) {\n          e = error;\n          response = \"Invalid JSON response from server.\";\n        }\n      }\n    }\n\n    this._updateFilesUploadProgress(files, xhr);\n\n    if (!(200 <= xhr.status && xhr.status < 300)) {\n      this._handleUploadError(files, xhr, response);\n    } else {\n      if (files[0].upload.chunked) {\n        files[0].upload.finishedChunkUpload(\n          this._getChunk(files[0], xhr),\n          response\n        );\n      } else {\n        this._finished(files, response, e);\n      }\n    }\n  }\n\n  _handleUploadError(files, xhr, response) {\n    if (files[0].status === Dropzone.CANCELED) {\n      return;\n    }\n\n    if (files[0].upload.chunked && this.options.retryChunks) {\n      let chunk = this._getChunk(files[0], xhr);\n      if (chunk.retries++ < this.options.retryChunksLimit) {\n        this._uploadData(files, [chunk.dataBlock]);\n        return;\n      } else {\n        console.warn(\"Retried this chunk too often. Giving up.\");\n      }\n    }\n\n    this._errorProcessing(\n      files,\n      response ||\n        this.options.dictResponseError.replace(\"{{statusCode}}\", xhr.status),\n      xhr\n    );\n  }\n\n  submitRequest(xhr, formData, files) {\n    if (xhr.readyState != 1) {\n      console.warn(\n        \"Cannot send this request because the XMLHttpRequest.readyState is not OPENED.\"\n      );\n      return;\n    }\n    if (this.options.binaryBody) {\n      if (files[0].upload.chunked) {\n        const chunk = this._getChunk(files[0], xhr);\n        xhr.send(chunk.dataBlock.data);\n      } else {\n        xhr.send(files[0]);\n      }\n    } else {\n      xhr.send(formData);\n    }\n  }\n\n  // Called internally when processing is finished.\n  // Individual callbacks have to be called in the appropriate sections.\n  _finished(files, responseText, e) {\n    for (let file of files) {\n      file.status = Dropzone.SUCCESS;\n      this.emit(\"success\", file, responseText, e);\n      this.emit(\"complete\", file);\n    }\n    if (this.options.uploadMultiple) {\n      this.emit(\"successmultiple\", files, responseText, e);\n      this.emit(\"completemultiple\", files);\n    }\n\n    if (this.options.autoProcessQueue) {\n      return this.processQueue();\n    }\n  }\n\n  // Called internally when processing is finished.\n  // Individual callbacks have to be called in the appropriate sections.\n  _errorProcessing(files, message, xhr) {\n    for (let file of files) {\n      file.status = Dropzone.ERROR;\n      this.emit(\"error\", file, message, xhr);\n      this.emit(\"complete\", file);\n    }\n    if (this.options.uploadMultiple) {\n      this.emit(\"errormultiple\", files, message, xhr);\n      this.emit(\"completemultiple\", files);\n    }\n\n    if (this.options.autoProcessQueue) {\n      return this.processQueue();\n    }\n  }\n\n  static uuidv4() {\n    return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(\n      /[xy]/g,\n      function (c) {\n        let r = (Math.random() * 16) | 0,\n          v = c === \"x\" ? r : (r & 0x3) | 0x8;\n        return v.toString(16);\n      }\n    );\n  }\n}\nDropzone.initClass();\n\n// This is a map of options for your different dropzones. Add configurations\n// to this object for your different dropzone elemens.\n//\n// Example:\n//\n//     Dropzone.options.myDropzoneElementId = { maxFilesize: 1 };\n//\n// And in html:\n//\n//     <form action=\"/upload\" id=\"my-dropzone-element-id\" class=\"dropzone\"></form>\nDropzone.options = {};\n\n// Returns the options for an element or undefined if none available.\nDropzone.optionsForElement = function (element) {\n  // Get the `Dropzone.options.elementId` for this element if it exists\n  if (element.getAttribute(\"id\")) {\n    return Dropzone.options[camelize(element.getAttribute(\"id\"))];\n  } else {\n    return undefined;\n  }\n};\n\n// Holds a list of all dropzone instances\nDropzone.instances = [];\n\n// Returns the dropzone for given element if any\nDropzone.forElement = function (element) {\n  if (typeof element === \"string\") {\n    element = document.querySelector(element);\n  }\n  if ((element != null ? element.dropzone : undefined) == null) {\n    throw new Error(\n      \"No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone.\"\n    );\n  }\n  return element.dropzone;\n};\n\n// Looks for all .dropzone elements and creates a dropzone for them\nDropzone.discover = function () {\n  let dropzones;\n  if (document.querySelectorAll) {\n    dropzones = document.querySelectorAll(\".dropzone\");\n  } else {\n    dropzones = [];\n    // IE :(\n    let checkElements = (elements) =>\n      (() => {\n        let result = [];\n        for (let el of elements) {\n          if (/(^| )dropzone($| )/.test(el.className)) {\n            result.push(dropzones.push(el));\n          } else {\n            result.push(undefined);\n          }\n        }\n        return result;\n      })();\n    checkElements(document.getElementsByTagName(\"div\"));\n    checkElements(document.getElementsByTagName(\"form\"));\n  }\n\n  return (() => {\n    let result = [];\n    for (let dropzone of dropzones) {\n      // Create a dropzone unless auto discover has been disabled for specific element\n      if (Dropzone.optionsForElement(dropzone) !== false) {\n        result.push(new Dropzone(dropzone));\n      } else {\n        result.push(undefined);\n      }\n    }\n    return result;\n  })();\n};\n\n// Some browsers support drag and drog functionality, but not correctly.\n//\n// So I created a blocklist of userAgents. Yes, yes. Browser sniffing, I know.\n// But what to do when browsers *theoretically* support an API, but crash\n// when using it.\n//\n// This is a list of regular expressions tested against navigator.userAgent\n//\n// ** It should only be used on browser that *do* support the API, but\n// incorrectly **\nDropzone.blockedBrowsers = [\n  // The mac os and windows phone version of opera 12 seems to have a problem with the File drag'n'drop API.\n  /opera.*(Macintosh|Windows Phone).*version\\/12/i,\n];\n\n// Checks if the browser is supported\nDropzone.isBrowserSupported = function () {\n  let capableBrowser = true;\n\n  if (\n    window.File &&\n    window.FileReader &&\n    window.FileList &&\n    window.Blob &&\n    window.FormData &&\n    document.querySelector\n  ) {\n    if (!(\"classList\" in document.createElement(\"a\"))) {\n      capableBrowser = false;\n    } else {\n      if (Dropzone.blacklistedBrowsers !== undefined) {\n        // Since this has been renamed, this makes sure we don't break older\n        // configuration.\n        Dropzone.blockedBrowsers = Dropzone.blacklistedBrowsers;\n      }\n      // The browser supports the API, but may be blocked.\n      for (let regex of Dropzone.blockedBrowsers) {\n        if (regex.test(navigator.userAgent)) {\n          capableBrowser = false;\n          continue;\n        }\n      }\n    }\n  } else {\n    capableBrowser = false;\n  }\n\n  return capableBrowser;\n};\n\nDropzone.dataURItoBlob = function (dataURI) {\n  // convert base64 to raw binary data held in a string\n  // doesn't handle URLEncoded DataURIs - see SO answer #6850276 for code that does this\n  let byteString = atob(dataURI.split(\",\")[1]);\n\n  // separate out the mime component\n  let mimeString = dataURI.split(\",\")[0].split(\":\")[1].split(\";\")[0];\n\n  // write the bytes of the string to an ArrayBuffer\n  let ab = new ArrayBuffer(byteString.length);\n  let ia = new Uint8Array(ab);\n  for (\n    let i = 0, end = byteString.length, asc = 0 <= end;\n    asc ? i <= end : i >= end;\n    asc ? i++ : i--\n  ) {\n    ia[i] = byteString.charCodeAt(i);\n  }\n\n  // write the ArrayBuffer to a blob\n  return new Blob([ab], { type: mimeString });\n};\n\n// Returns an array without the rejected item\nconst without = (list, rejectedItem) =>\n  list.filter((item) => item !== rejectedItem).map((item) => item);\n\n// abc-def_ghi -> abcDefGhi\nconst camelize = (str) =>\n  str.replace(/[\\-_](\\w)/g, (match) => match.charAt(1).toUpperCase());\n\n// Creates an element from string\nDropzone.createElement = function (string) {\n  let div = document.createElement(\"div\");\n  div.innerHTML = string;\n  return div.childNodes[0];\n};\n\n// Tests if given element is inside (or simply is) the container\nDropzone.elementInside = function (element, container) {\n  if (element === container) {\n    return true;\n  } // Coffeescript doesn't support do/while loops\n  while ((element = element.parentNode)) {\n    if (element === container) {\n      return true;\n    }\n  }\n  return false;\n};\n\nDropzone.getElement = function (el, name) {\n  let element;\n  if (typeof el === \"string\") {\n    element = document.querySelector(el);\n  } else if (el.nodeType != null) {\n    element = el;\n  }\n  if (element == null) {\n    throw new Error(\n      `Invalid \\`${name}\\` option provided. Please provide a CSS selector or a plain HTML element.`\n    );\n  }\n  return element;\n};\n\nDropzone.getElements = function (els, name) {\n  let el, elements;\n  if (els instanceof Array) {\n    elements = [];\n    try {\n      for (el of els) {\n        elements.push(this.getElement(el, name));\n      }\n    } catch (e) {\n      elements = null;\n    }\n  } else if (typeof els === \"string\") {\n    elements = [];\n    for (el of document.querySelectorAll(els)) {\n      elements.push(el);\n    }\n  } else if (els.nodeType != null) {\n    elements = [els];\n  }\n\n  if (elements == null || !elements.length) {\n    throw new Error(\n      `Invalid \\`${name}\\` option provided. Please provide a CSS selector, a plain HTML element or a list of those.`\n    );\n  }\n\n  return elements;\n};\n\n// Asks the user the question and calls accepted or rejected accordingly\n//\n// The default implementation just uses `window.confirm` and then calls the\n// appropriate callback.\nDropzone.confirm = function (question, accepted, rejected) {\n  if (window.confirm(question)) {\n    return accepted();\n  } else if (rejected != null) {\n    return rejected();\n  }\n};\n\n// Validates the mime type like this:\n//\n// https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-accept\nDropzone.isValidFile = function (file, acceptedFiles) {\n  if (!acceptedFiles) {\n    return true;\n  } // If there are no accepted mime types, it's OK\n  acceptedFiles = acceptedFiles.split(\",\");\n\n  let mimeType = file.type;\n  let baseMimeType = mimeType.replace(/\\/.*$/, \"\");\n\n  for (let validType of acceptedFiles) {\n    validType = validType.trim();\n    if (validType.charAt(0) === \".\") {\n      if (\n        file.name\n          .toLowerCase()\n          .indexOf(\n            validType.toLowerCase(),\n            file.name.length - validType.length\n          ) !== -1\n      ) {\n        return true;\n      }\n    } else if (/\\/\\*$/.test(validType)) {\n      // This is something like a image/* mime type\n      if (baseMimeType === validType.replace(/\\/.*$/, \"\")) {\n        return true;\n      }\n    } else {\n      if (mimeType === validType) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\n// Augment jQuery\nif (typeof jQuery !== \"undefined\" && jQuery !== null) {\n  jQuery.fn.dropzone = function (options) {\n    return this.each(function () {\n      return new Dropzone(this, options);\n    });\n  };\n}\n\n// Dropzone file status codes\nDropzone.ADDED = \"added\";\n\nDropzone.QUEUED = \"queued\";\n// For backwards compatibility. Now, if a file is accepted, it's either queued\n// or uploading.\nDropzone.ACCEPTED = Dropzone.QUEUED;\n\nDropzone.UPLOADING = \"uploading\";\nDropzone.PROCESSING = Dropzone.UPLOADING; // alias\n\nDropzone.CANCELED = \"canceled\";\nDropzone.ERROR = \"error\";\nDropzone.SUCCESS = \"success\";\n\n/*\n\n Bugfix for iOS 6 and 7\n Source: http://stackoverflow.com/questions/11929099/html5-canvas-drawimage-ratio-bug-ios\n based on the work of https://github.com/stomita/ios-imagefile-megapixel\n\n */\n\n// Detecting vertical squash in loaded image.\n// Fixes a bug which squash image vertically while drawing into canvas for some images.\n// This is a bug in iOS6 devices. This function from https://github.com/stomita/ios-imagefile-megapixel\nlet detectVerticalSquash = function (img) {\n  let iw = img.naturalWidth;\n  let ih = img.naturalHeight;\n  let canvas = document.createElement(\"canvas\");\n  canvas.width = 1;\n  canvas.height = ih;\n  let ctx = canvas.getContext(\"2d\");\n  ctx.drawImage(img, 0, 0);\n  let { data } = ctx.getImageData(1, 0, 1, ih);\n\n  // search image edge pixel position in case it is squashed vertically.\n  let sy = 0;\n  let ey = ih;\n  let py = ih;\n  while (py > sy) {\n    let alpha = data[(py - 1) * 4 + 3];\n\n    if (alpha === 0) {\n      ey = py;\n    } else {\n      sy = py;\n    }\n\n    py = (ey + sy) >> 1;\n  }\n  let ratio = py / ih;\n\n  if (ratio === 0) {\n    return 1;\n  } else {\n    return ratio;\n  }\n};\n\n// A replacement for context.drawImage\n// (args are for source and destination).\nvar drawImageIOSFix = function (ctx, img, sx, sy, sw, sh, dx, dy, dw, dh) {\n  let vertSquashRatio = detectVerticalSquash(img);\n  return ctx.drawImage(img, sx, sy, sw, sh, dx, dy, dw, dh / vertSquashRatio);\n};\n\n// Based on MinifyJpeg\n// Source: http://www.perry.cz/files/ExifRestorer.js\n// http://elicon.blog57.fc2.com/blog-entry-206.html\nclass ExifRestore {\n  static initClass() {\n    this.KEY_STR =\n      \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";\n  }\n\n  static encode64(input) {\n    let output = \"\";\n    let chr1 = undefined;\n    let chr2 = undefined;\n    let chr3 = \"\";\n    let enc1 = undefined;\n    let enc2 = undefined;\n    let enc3 = undefined;\n    let enc4 = \"\";\n    let i = 0;\n    while (true) {\n      chr1 = input[i++];\n      chr2 = input[i++];\n      chr3 = input[i++];\n      enc1 = chr1 >> 2;\n      enc2 = ((chr1 & 3) << 4) | (chr2 >> 4);\n      enc3 = ((chr2 & 15) << 2) | (chr3 >> 6);\n      enc4 = chr3 & 63;\n      if (isNaN(chr2)) {\n        enc3 = enc4 = 64;\n      } else if (isNaN(chr3)) {\n        enc4 = 64;\n      }\n      output =\n        output +\n        this.KEY_STR.charAt(enc1) +\n        this.KEY_STR.charAt(enc2) +\n        this.KEY_STR.charAt(enc3) +\n        this.KEY_STR.charAt(enc4);\n      chr1 = chr2 = chr3 = \"\";\n      enc1 = enc2 = enc3 = enc4 = \"\";\n      if (!(i < input.length)) {\n        break;\n      }\n    }\n    return output;\n  }\n\n  static restore(origFileBase64, resizedFileBase64) {\n    if (!origFileBase64.match(\"data:image/jpeg;base64,\")) {\n      return resizedFileBase64;\n    }\n    let rawImage = this.decode64(\n      origFileBase64.replace(\"data:image/jpeg;base64,\", \"\")\n    );\n    let segments = this.slice2Segments(rawImage);\n    let image = this.exifManipulation(resizedFileBase64, segments);\n    return `data:image/jpeg;base64,${this.encode64(image)}`;\n  }\n\n  static exifManipulation(resizedFileBase64, segments) {\n    let exifArray = this.getExifArray(segments);\n    let newImageArray = this.insertExif(resizedFileBase64, exifArray);\n    let aBuffer = new Uint8Array(newImageArray);\n    return aBuffer;\n  }\n\n  static getExifArray(segments) {\n    let seg = undefined;\n    let x = 0;\n    while (x < segments.length) {\n      seg = segments[x];\n      if ((seg[0] === 255) & (seg[1] === 225)) {\n        return seg;\n      }\n      x++;\n    }\n    return [];\n  }\n\n  static insertExif(resizedFileBase64, exifArray) {\n    let imageData = resizedFileBase64.replace(\"data:image/jpeg;base64,\", \"\");\n    let buf = this.decode64(imageData);\n    let separatePoint = buf.indexOf(255, 3);\n    let mae = buf.slice(0, separatePoint);\n    let ato = buf.slice(separatePoint);\n    let array = mae;\n    array = array.concat(exifArray);\n    array = array.concat(ato);\n    return array;\n  }\n\n  static slice2Segments(rawImageArray) {\n    let head = 0;\n    let segments = [];\n    while (true) {\n      var length;\n      if ((rawImageArray[head] === 255) & (rawImageArray[head + 1] === 218)) {\n        break;\n      }\n      if ((rawImageArray[head] === 255) & (rawImageArray[head + 1] === 216)) {\n        head += 2;\n      } else {\n        length = rawImageArray[head + 2] * 256 + rawImageArray[head + 3];\n        let endPoint = head + length + 2;\n        let seg = rawImageArray.slice(head, endPoint);\n        segments.push(seg);\n        head = endPoint;\n      }\n      if (head > rawImageArray.length) {\n        break;\n      }\n    }\n    return segments;\n  }\n\n  static decode64(input) {\n    let output = \"\";\n    let chr1 = undefined;\n    let chr2 = undefined;\n    let chr3 = \"\";\n    let enc1 = undefined;\n    let enc2 = undefined;\n    let enc3 = undefined;\n    let enc4 = \"\";\n    let i = 0;\n    let buf = [];\n    // remove all characters that are not A-Z, a-z, 0-9, +, /, or =\n    let base64test = /[^A-Za-z0-9\\+\\/\\=]/g;\n    if (base64test.exec(input)) {\n      console.warn(\n        \"There were invalid base64 characters in the input text.\\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\\nExpect errors in decoding.\"\n      );\n    }\n    input = input.replace(/[^A-Za-z0-9\\+\\/\\=]/g, \"\");\n    while (true) {\n      enc1 = this.KEY_STR.indexOf(input.charAt(i++));\n      enc2 = this.KEY_STR.indexOf(input.charAt(i++));\n      enc3 = this.KEY_STR.indexOf(input.charAt(i++));\n      enc4 = this.KEY_STR.indexOf(input.charAt(i++));\n      chr1 = (enc1 << 2) | (enc2 >> 4);\n      chr2 = ((enc2 & 15) << 4) | (enc3 >> 2);\n      chr3 = ((enc3 & 3) << 6) | enc4;\n      buf.push(chr1);\n      if (enc3 !== 64) {\n        buf.push(chr2);\n      }\n      if (enc4 !== 64) {\n        buf.push(chr3);\n      }\n      chr1 = chr2 = chr3 = \"\";\n      enc1 = enc2 = enc3 = enc4 = \"\";\n      if (!(i < input.length)) {\n        break;\n      }\n    }\n    return buf;\n  }\n}\nExifRestore.initClass();\n\n/*\n * contentloaded.js\n *\n * Author: Diego Perini (diego.perini at gmail.com)\n * Summary: cross-browser wrapper for DOMContentLoaded\n * Updated: 20101020\n * License: MIT\n * Version: 1.2\n *\n * URL:\n * http://javascript.nwbox.com/ContentLoaded/\n * http://javascript.nwbox.com/ContentLoaded/MIT-LICENSE\n */\n\n// @win window reference\n// @fn function reference\nlet contentLoaded = function (win, fn) {\n  let done = false;\n  let top = true;\n  let doc = win.document;\n  let root = doc.documentElement;\n  let add = doc.addEventListener ? \"addEventListener\" : \"attachEvent\";\n  let rem = doc.addEventListener ? \"removeEventListener\" : \"detachEvent\";\n  let pre = doc.addEventListener ? \"\" : \"on\";\n  var init = function (e) {\n    if (e.type === \"readystatechange\" && doc.readyState !== \"complete\") {\n      return;\n    }\n    (e.type === \"load\" ? win : doc)[rem](pre + e.type, init, false);\n    if (!done && (done = true)) {\n      return fn.call(win, e.type || e);\n    }\n  };\n\n  var poll = function () {\n    try {\n      root.doScroll(\"left\");\n    } catch (e) {\n      setTimeout(poll, 50);\n      return;\n    }\n    return init(\"poll\");\n  };\n\n  if (doc.readyState !== \"complete\") {\n    if (doc.createEventObject && root.doScroll) {\n      try {\n        top = !win.frameElement;\n      } catch (error) {}\n      if (top) {\n        poll();\n      }\n    }\n    doc[add](pre + \"DOMContentLoaded\", init, false);\n    doc[add](pre + \"readystatechange\", init, false);\n    return win[add](pre + \"load\", init, false);\n  }\n};\n\nfunction __guard__(value, transform) {\n  return typeof value !== \"undefined\" && value !== null\n    ? transform(value)\n    : undefined;\n}\nfunction __guardMethod__(obj, methodName, transform) {\n  if (\n    typeof obj !== \"undefined\" &&\n    obj !== null &&\n    typeof obj[methodName] === \"function\"\n  ) {\n    return transform(obj, methodName);\n  } else {\n    return undefined;\n  }\n}\n\nexport { Dropzone };\n","// The Emitter class provides the ability to call `.on()` on Dropzone to listen\n// to events.\n// It is strongly based on component's emitter class, and I removed the\n// functionality because of the dependency hell with different frameworks.\nexport default class Emitter {\n  // Add an event listener for given event\n  on(event, fn) {\n    this._callbacks = this._callbacks || {};\n    // Create namespace for this event\n    if (!this._callbacks[event]) {\n      this._callbacks[event] = [];\n    }\n    this._callbacks[event].push(fn);\n    return this;\n  }\n\n  emit(event, ...args) {\n    this._callbacks = this._callbacks || {};\n    let callbacks = this._callbacks[event];\n\n    if (callbacks) {\n      for (let callback of callbacks) {\n        callback.apply(this, args);\n      }\n    }\n    // trigger a corresponding DOM event\n    if (this.element) {\n      this.element.dispatchEvent(\n        this.makeEvent(\"dropzone:\" + event, { args: args })\n      );\n    }\n    return this;\n  }\n\n  makeEvent(eventName, detail) {\n    let params = { bubbles: true, cancelable: true, detail: detail };\n\n    if (typeof window.CustomEvent === \"function\") {\n      return new CustomEvent(eventName, params);\n    } else {\n      // IE 11 support\n      // https://developer.mozilla.org/en-US/docs/Web/API/CustomEvent/CustomEvent\n      var evt = document.createEvent(\"CustomEvent\");\n      evt.initCustomEvent(\n        eventName,\n        params.bubbles,\n        params.cancelable,\n        params.detail\n      );\n      return evt;\n    }\n  }\n\n  // Remove event listener for given event. If fn is not provided, all event\n  // listeners for that event will be removed. If neither is provided, all\n  // event listeners will be removed.\n  off(event, fn) {\n    if (!this._callbacks || arguments.length === 0) {\n      this._callbacks = {};\n      return this;\n    }\n\n    // specific event\n    let callbacks = this._callbacks[event];\n    if (!callbacks) {\n      return this;\n    }\n\n    // remove all handlers\n    if (arguments.length === 1) {\n      delete this._callbacks[event];\n      return this;\n    }\n\n    // remove specific handler\n    for (let i = 0; i < callbacks.length; i++) {\n      let callback = callbacks[i];\n      if (callback === fn) {\n        callbacks.splice(i, 1);\n        break;\n      }\n    }\n\n    return this;\n  }\n}\n","import Dropzone from \"./dropzone\";\nimport defaultPreviewTemplate from \"bundle-text:./preview-template.html\";\n\nlet defaultOptions = {\n  /**\n   * Has to be specified on elements other than form (or when the form doesn't\n   * have an `action` attribute).\n   *\n   * You can also provide a function that will be called with `files` and\n   * `dataBlocks`  and must return the url as string.\n   */\n  url: null,\n\n  /**\n   * Can be changed to `\"put\"` if necessary. You can also provide a function\n   * that will be called with `files` and must return the method (since `v3.12.0`).\n   */\n  method: \"post\",\n\n  /**\n   * Will be set on the XHRequest.\n   */\n  withCredentials: false,\n\n  /**\n   * The timeout for the XHR requests in milliseconds (since `v4.4.0`).\n   * If set to null or 0, no timeout is going to be set.\n   */\n  timeout: null,\n\n  /**\n   * How many file uploads to process in parallel (See the\n   * Enqueuing file uploads documentation section for more info)\n   */\n  parallelUploads: 2,\n\n  /**\n   * Whether to send multiple files in one request. If\n   * this it set to true, then the fallback file input element will\n   * have the `multiple` attribute as well. This option will\n   * also trigger additional events (like `processingmultiple`). See the events\n   * documentation section for more information.\n   */\n  uploadMultiple: false,\n\n  /**\n   * Whether you want files to be uploaded in chunks to your server. This can't be\n   * used in combination with `uploadMultiple`.\n   *\n   * See [chunksUploaded](#config-chunksUploaded) for the callback to finalise an upload.\n   */\n  chunking: false,\n\n  /**\n   * If `chunking` is enabled, this defines whether **every** file should be chunked,\n   * even if the file size is below chunkSize. This means, that the additional chunk\n   * form data will be submitted and the `chunksUploaded` callback will be invoked.\n   */\n  forceChunking: false,\n\n  /**\n   * If `chunking` is `true`, then this defines the chunk size in bytes.\n   */\n  chunkSize: 2 * 1024 * 1024,\n\n  /**\n   * If `true`, the individual chunks of a file are being uploaded simultaneously.\n   */\n  parallelChunkUploads: false,\n\n  /**\n   * Whether a chunk should be retried if it fails.\n   */\n  retryChunks: false,\n\n  /**\n   * If `retryChunks` is true, how many times should it be retried.\n   */\n  retryChunksLimit: 3,\n\n  /**\n   * The maximum filesize (in MiB) that is allowed to be uploaded.\n   */\n  maxFilesize: 256,\n\n  /**\n   * The name of the file param that gets transferred.\n   * **NOTE**: If you have the option  `uploadMultiple` set to `true`, then\n   * Dropzone will append `[]` to the name.\n   */\n  paramName: \"file\",\n\n  /**\n   * Whether thumbnails for images should be generated\n   */\n  createImageThumbnails: true,\n\n  /**\n   * In MB. When the filename exceeds this limit, the thumbnail will not be generated.\n   */\n  maxThumbnailFilesize: 10,\n\n  /**\n   * If `null`, the ratio of the image will be used to calculate it.\n   */\n  thumbnailWidth: 120,\n\n  /**\n   * The same as `thumbnailWidth`. If both are null, images will not be resized.\n   */\n  thumbnailHeight: 120,\n\n  /**\n   * How the images should be scaled down in case both, `thumbnailWidth` and `thumbnailHeight` are provided.\n   * Can be either `contain` or `crop`.\n   */\n  thumbnailMethod: \"crop\",\n\n  /**\n   * If set, images will be resized to these dimensions before being **uploaded**.\n   * If only one, `resizeWidth` **or** `resizeHeight` is provided, the original aspect\n   * ratio of the file will be preserved.\n   *\n   * The `options.transformFile` function uses these options, so if the `transformFile` function\n   * is overridden, these options don't do anything.\n   */\n  resizeWidth: null,\n\n  /**\n   * See `resizeWidth`.\n   */\n  resizeHeight: null,\n\n  /**\n   * The mime type of the resized image (before it gets uploaded to the server).\n   * If `null` the original mime type will be used. To force jpeg, for example, use `image/jpeg`.\n   * See `resizeWidth` for more information.\n   */\n  resizeMimeType: null,\n\n  /**\n   * The quality of the resized images. See `resizeWidth`.\n   */\n  resizeQuality: 0.8,\n\n  /**\n   * How the images should be scaled down in case both, `resizeWidth` and `resizeHeight` are provided.\n   * Can be either `contain` or `crop`.\n   */\n  resizeMethod: \"contain\",\n\n  /**\n   * The base that is used to calculate the **displayed** filesize. You can\n   * change this to 1024 if you would rather display kibibytes, mebibytes,\n   * etc... 1024 is technically incorrect, because `1024 bytes` are `1 kibibyte`\n   * not `1 kilobyte`. You can change this to `1024` if you don't care about\n   * validity.\n   */\n  filesizeBase: 1000,\n\n  /**\n   * If not `null` defines how many files this Dropzone handles. If it exceeds,\n   * the event `maxfilesexceeded` will be called. The dropzone element gets the\n   * class `dz-max-files-reached` accordingly so you can provide visual\n   * feedback.\n   */\n  maxFiles: null,\n\n  /**\n   * An optional object to send additional headers to the server. Eg:\n   * `{ \"My-Awesome-Header\": \"header value\" }`\n   */\n  headers: null,\n\n  /**\n   * Should the default headers be set or not?\n   * Accept: application/json <- for requesting json response\n   * Cache-Control: no-cache <- Request shouldnt be cached\n   * X-Requested-With: XMLHttpRequest <- We sent the request via XMLHttpRequest\n   */\n  defaultHeaders: true,\n\n  /**\n   * If `true`, the dropzone element itself will be clickable, if `false`\n   * nothing will be clickable.\n   *\n   * You can also pass an HTML element, a CSS selector (for multiple elements)\n   * or an array of those. In that case, all of those elements will trigger an\n   * upload when clicked.\n   */\n  clickable: true,\n\n  /**\n   * Whether hidden files in directories should be ignored.\n   */\n  ignoreHiddenFiles: true,\n\n  /**\n   * The default implementation of `accept` checks the file's mime type or\n   * extension against this list. This is a comma separated list of mime\n   * types or file extensions.\n   *\n   * Eg.: `image/*,application/pdf,.psd`\n   *\n   * If the Dropzone is `clickable` this option will also be used as\n   * [`accept`](https://developer.mozilla.org/en-US/docs/HTML/Element/input#attr-accept)\n   * parameter on the hidden file input as well.\n   */\n  acceptedFiles: null,\n\n  /**\n   * **Deprecated!**\n   * Use acceptedFiles instead.\n   */\n  acceptedMimeTypes: null,\n\n  /**\n   * If false, files will be added to the queue but the queue will not be\n   * processed automatically.\n   * This can be useful if you need some additional user input before sending\n   * files (or if you want want all files sent at once).\n   * If you're ready to send the file simply call `myDropzone.processQueue()`.\n   *\n   * See the [enqueuing file uploads](#enqueuing-file-uploads) documentation\n   * section for more information.\n   */\n  autoProcessQueue: true,\n\n  /**\n   * If false, files added to the dropzone will not be queued by default.\n   * You'll have to call `enqueueFile(file)` manually.\n   */\n  autoQueue: true,\n\n  /**\n   * If `true`, this will add a link to every file preview to remove or cancel (if\n   * already uploading) the file. The `dictCancelUpload`, `dictCancelUploadConfirmation`\n   * and `dictRemoveFile` options are used for the wording.\n   */\n  addRemoveLinks: false,\n\n  /**\n   * Defines where to display the file previews  if `null` the\n   * Dropzone element itself is used. Can be a plain `HTMLElement` or a CSS\n   * selector. The element should have the `dropzone-previews` class so\n   * the previews are displayed properly.\n   */\n  previewsContainer: null,\n\n  /**\n   * Set this to `true` if you don't want previews to be shown.\n   */\n  disablePreviews: false,\n\n  /**\n   * This is the element the hidden input field (which is used when clicking on the\n   * dropzone to trigger file selection) will be appended to. This might\n   * be important in case you use frameworks to switch the content of your page.\n   *\n   * Can be a selector string, or an element directly.\n   */\n  hiddenInputContainer: \"body\",\n\n  /**\n   * If null, no capture type will be specified\n   * If camera, mobile devices will skip the file selection and choose camera\n   * If microphone, mobile devices will skip the file selection and choose the microphone\n   * If camcorder, mobile devices will skip the file selection and choose the camera in video mode\n   * On apple devices multiple must be set to false.  AcceptedFiles may need to\n   * be set to an appropriate mime type (e.g. \"image/*\", \"audio/*\", or \"video/*\").\n   */\n  capture: null,\n\n  /**\n   * **Deprecated**. Use `renameFile` instead.\n   */\n  renameFilename: null,\n\n  /**\n   * A function that is invoked before the file is uploaded to the server and renames the file.\n   * This function gets the `File` as argument and can use the `file.name`. The actual name of the\n   * file that gets used during the upload can be accessed through `file.upload.filename`.\n   */\n  renameFile: null,\n\n  /**\n   * If `true` the fallback will be forced. This is very useful to test your server\n   * implementations first and make sure that everything works as\n   * expected without dropzone if you experience problems, and to test\n   * how your fallbacks will look.\n   */\n  forceFallback: false,\n\n  /**\n   * The text used before any files are dropped.\n   */\n  dictDefaultMessage: \"Drop files here to upload\",\n\n  /**\n   * The text that replaces the default message text it the browser is not supported.\n   */\n  dictFallbackMessage:\n    \"Your browser does not support drag'n'drop file uploads.\",\n\n  /**\n   * The text that will be added before the fallback form.\n   * If you provide a  fallback element yourself, or if this option is `null` this will\n   * be ignored.\n   */\n  dictFallbackText:\n    \"Please use the fallback form below to upload your files like in the olden days.\",\n\n  /**\n   * If the filesize is too big.\n   * `{{filesize}}` and `{{maxFilesize}}` will be replaced with the respective configuration values.\n   */\n  dictFileTooBig:\n    \"File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.\",\n\n  /**\n   * If the file doesn't match the file type.\n   */\n  dictInvalidFileType: \"You can't upload files of this type.\",\n\n  /**\n   * If the server response was invalid.\n   * `{{statusCode}}` will be replaced with the servers status code.\n   */\n  dictResponseError: \"Server responded with {{statusCode}} code.\",\n\n  /**\n   * If `addRemoveLinks` is true, the text to be used for the cancel upload link.\n   */\n  dictCancelUpload: \"Cancel upload\",\n\n  /**\n   * The text that is displayed if an upload was manually canceled\n   */\n  dictUploadCanceled: \"Upload canceled.\",\n\n  /**\n   * If `addRemoveLinks` is true, the text to be used for confirmation when cancelling upload.\n   */\n  dictCancelUploadConfirmation: \"Are you sure you want to cancel this upload?\",\n\n  /**\n   * If `addRemoveLinks` is true, the text to be used to remove a file.\n   */\n  dictRemoveFile: \"Remove file\",\n\n  /**\n   * If this is not null, then the user will be prompted before removing a file.\n   */\n  dictRemoveFileConfirmation: null,\n\n  /**\n   * Displayed if `maxFiles` is st and exceeded.\n   * The string `{{maxFiles}}` will be replaced by the configuration value.\n   */\n  dictMaxFilesExceeded: \"You can not upload any more files.\",\n\n  /**\n   * Allows you to translate the different units. Starting with `tb` for terabytes and going down to\n   * `b` for bytes.\n   */\n  dictFileSizeUnits: { tb: \"TB\", gb: \"GB\", mb: \"MB\", kb: \"KB\", b: \"b\" },\n  /**\n   * Called when dropzone initialized\n   * You can add event listeners here\n   */\n  init() {},\n\n  /**\n   * Can be an **object** of additional parameters to transfer to the server, **or** a `Function`\n   * that gets invoked with the `files`, `xhr` and, if it's a chunked upload, `chunk` arguments. In case\n   * of a function, this needs to return a map.\n   *\n   * The default implementation does nothing for normal uploads, but adds relevant information for\n   * chunked uploads.\n   *\n   * This is the same as adding hidden input fields in the form element.\n   */\n  params(files, xhr, chunk) {\n    if (chunk) {\n      return {\n        dzuuid: chunk.file.upload.uuid,\n        dzchunkindex: chunk.index,\n        dztotalfilesize: chunk.file.size,\n        dzchunksize: this.options.chunkSize,\n        dztotalchunkcount: chunk.file.upload.totalChunkCount,\n        dzchunkbyteoffset: chunk.index * this.options.chunkSize,\n      };\n    }\n  },\n\n  /**\n   * A function that gets a [file](https://developer.mozilla.org/en-US/docs/DOM/File)\n   * and a `done` function as parameters.\n   *\n   * If the done function is invoked without arguments, the file is \"accepted\" and will\n   * be processed. If you pass an error message, the file is rejected, and the error\n   * message will be displayed.\n   * This function will not be called if the file is too big or doesn't match the mime types.\n   */\n  accept(file, done) {\n    return done();\n  },\n\n  /**\n   * The callback that will be invoked when all chunks have been uploaded for a file.\n   * It gets the file for which the chunks have been uploaded as the first parameter,\n   * and the `done` function as second. `done()` needs to be invoked when everything\n   * needed to finish the upload process is done.\n   */\n  chunksUploaded: function (file, done) {\n    done();\n  },\n\n  /**\n   * Sends the file as binary blob in body instead of form data.\n   * If this is set, the `params` option will be ignored.\n   * It's an error to set this to `true` along with `uploadMultiple` since\n   * multiple files cannot be in a single binary body.\n   */\n  binaryBody: false,\n\n  /**\n   * Gets called when the browser is not supported.\n   * The default implementation shows the fallback input field and adds\n   * a text.\n   */\n  fallback() {\n    // This code should pass in IE7... :(\n    let messageElement;\n    this.element.className = `${this.element.className} dz-browser-not-supported`;\n\n    for (let child of this.element.getElementsByTagName(\"div\")) {\n      if (/(^| )dz-message($| )/.test(child.className)) {\n        messageElement = child;\n        child.className = \"dz-message\"; // Removes the 'dz-default' class\n        break;\n      }\n    }\n    if (!messageElement) {\n      messageElement = Dropzone.createElement(\n        '<div class=\"dz-message\"><span></span></div>'\n      );\n      this.element.appendChild(messageElement);\n    }\n\n    let span = messageElement.getElementsByTagName(\"span\")[0];\n    if (span) {\n      if (span.textContent != null) {\n        span.textContent = this.options.dictFallbackMessage;\n      } else if (span.innerText != null) {\n        span.innerText = this.options.dictFallbackMessage;\n      }\n    }\n\n    return this.element.appendChild(this.getFallbackForm());\n  },\n\n  /**\n   * Gets called to calculate the thumbnail dimensions.\n   *\n   * It gets `file`, `width` and `height` (both may be `null`) as parameters and must return an object containing:\n   *\n   *  - `srcWidth` & `srcHeight` (required)\n   *  - `trgWidth` & `trgHeight` (required)\n   *  - `srcX` & `srcY` (optional, default `0`)\n   *  - `trgX` & `trgY` (optional, default `0`)\n   *\n   * Those values are going to be used by `ctx.drawImage()`.\n   */\n  resize(file, width, height, resizeMethod) {\n    let info = {\n      srcX: 0,\n      srcY: 0,\n      srcWidth: file.width,\n      srcHeight: file.height,\n    };\n\n    let srcRatio = file.width / file.height;\n\n    // Automatically calculate dimensions if not specified\n    if (width == null && height == null) {\n      width = info.srcWidth;\n      height = info.srcHeight;\n    } else if (width == null) {\n      width = height * srcRatio;\n    } else if (height == null) {\n      height = width / srcRatio;\n    }\n\n    // Make sure images aren't upscaled\n    width = Math.min(width, info.srcWidth);\n    height = Math.min(height, info.srcHeight);\n\n    let trgRatio = width / height;\n\n    if (info.srcWidth > width || info.srcHeight > height) {\n      // Image is bigger and needs rescaling\n      if (resizeMethod === \"crop\") {\n        if (srcRatio > trgRatio) {\n          info.srcHeight = file.height;\n          info.srcWidth = info.srcHeight * trgRatio;\n        } else {\n          info.srcWidth = file.width;\n          info.srcHeight = info.srcWidth / trgRatio;\n        }\n      } else if (resizeMethod === \"contain\") {\n        // Method 'contain'\n        if (srcRatio > trgRatio) {\n          height = width / srcRatio;\n        } else {\n          width = height * srcRatio;\n        }\n      } else {\n        throw new Error(`Unknown resizeMethod '${resizeMethod}'`);\n      }\n    }\n\n    info.srcX = (file.width - info.srcWidth) / 2;\n    info.srcY = (file.height - info.srcHeight) / 2;\n\n    info.trgWidth = width;\n    info.trgHeight = height;\n\n    return info;\n  },\n\n  /**\n   * Can be used to transform the file (for example, resize an image if necessary).\n   *\n   * The default implementation uses `resizeWidth` and `resizeHeight` (if provided) and resizes\n   * images according to those dimensions.\n   *\n   * Gets the `file` as the first parameter, and a `done()` function as the second, that needs\n   * to be invoked with the file when the transformation is done.\n   */\n  transformFile(file, done) {\n    if (\n      (this.options.resizeWidth || this.options.resizeHeight) &&\n      file.type.match(/image.*/)\n    ) {\n      return this.resizeImage(\n        file,\n        this.options.resizeWidth,\n        this.options.resizeHeight,\n        this.options.resizeMethod,\n        done\n      );\n    } else {\n      return done(file);\n    }\n  },\n\n  /**\n   * A string that contains the template used for each dropped\n   * file. Change it to fulfill your needs but make sure to properly\n   * provide all elements.\n   *\n   * If you want to use an actual HTML element instead of providing a String\n   * as a config option, you could create a div with the id `tpl`,\n   * put the template inside it and provide the element like this:\n   *\n   *     document\n   *       .querySelector('#tpl')\n   *       .innerHTML\n   *\n   */\n  previewTemplate: defaultPreviewTemplate,\n\n  /*\n   Those functions register themselves to the events on init and handle all\n   the user interface specific stuff. Overwriting them won't break the upload\n   but can break the way it's displayed.\n   You can overwrite them if you don't like the default behavior. If you just\n   want to add an additional event handler, register it on the dropzone object\n   and don't overwrite those options.\n   */\n\n  // Those are self explanatory and simply concern the DragnDrop.\n  drop(e) {\n    return this.element.classList.remove(\"dz-drag-hover\");\n  },\n  dragstart(e) {},\n  dragend(e) {\n    return this.element.classList.remove(\"dz-drag-hover\");\n  },\n  dragenter(e) {\n    return this.element.classList.add(\"dz-drag-hover\");\n  },\n  dragover(e) {\n    return this.element.classList.add(\"dz-drag-hover\");\n  },\n  dragleave(e) {\n    return this.element.classList.remove(\"dz-drag-hover\");\n  },\n\n  paste(e) {},\n\n  // Called whenever there are no files left in the dropzone anymore, and the\n  // dropzone should be displayed as if in the initial state.\n  reset() {\n    return this.element.classList.remove(\"dz-started\");\n  },\n\n  // Called when a file is added to the queue\n  // Receives `file`\n  addedfile(file) {\n    if (this.element === this.previewsContainer) {\n      this.element.classList.add(\"dz-started\");\n    }\n\n    if (this.previewsContainer && !this.options.disablePreviews) {\n      file.previewElement = Dropzone.createElement(\n        this.options.previewTemplate.trim()\n      );\n      file.previewTemplate = file.previewElement; // Backwards compatibility\n\n      this.previewsContainer.appendChild(file.previewElement);\n      for (var node of file.previewElement.querySelectorAll(\"[data-dz-name]\")) {\n        node.textContent = file.name;\n      }\n      for (node of file.previewElement.querySelectorAll(\"[data-dz-size]\")) {\n        node.innerHTML = this.filesize(file.size);\n      }\n\n      if (this.options.addRemoveLinks) {\n        file._removeLink = Dropzone.createElement(\n          `<a class=\"dz-remove\" href=\"javascript:undefined;\" data-dz-remove>${this.options.dictRemoveFile}</a>`\n        );\n        file.previewElement.appendChild(file._removeLink);\n      }\n\n      let removeFileEvent = (e) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (file.status === Dropzone.UPLOADING) {\n          return Dropzone.confirm(\n            this.options.dictCancelUploadConfirmation,\n            () => this.removeFile(file)\n          );\n        } else {\n          if (this.options.dictRemoveFileConfirmation) {\n            return Dropzone.confirm(\n              this.options.dictRemoveFileConfirmation,\n              () => this.removeFile(file)\n            );\n          } else {\n            return this.removeFile(file);\n          }\n        }\n      };\n\n      for (let removeLink of file.previewElement.querySelectorAll(\n        \"[data-dz-remove]\"\n      )) {\n        removeLink.addEventListener(\"click\", removeFileEvent);\n      }\n    }\n  },\n\n  // Called whenever a file is removed.\n  removedfile(file) {\n    if (file.previewElement != null && file.previewElement.parentNode != null) {\n      file.previewElement.parentNode.removeChild(file.previewElement);\n    }\n    return this._updateMaxFilesReachedClass();\n  },\n\n  // Called when a thumbnail has been generated\n  // Receives `file` and `dataUrl`\n  thumbnail(file, dataUrl) {\n    if (file.previewElement) {\n      file.previewElement.classList.remove(\"dz-file-preview\");\n      for (let thumbnailElement of file.previewElement.querySelectorAll(\n        \"[data-dz-thumbnail]\"\n      )) {\n        thumbnailElement.alt = file.name;\n        thumbnailElement.src = dataUrl;\n      }\n\n      return setTimeout(\n        () => file.previewElement.classList.add(\"dz-image-preview\"),\n        1\n      );\n    }\n  },\n\n  // Called whenever an error occurs\n  // Receives `file` and `message`\n  error(file, message) {\n    if (file.previewElement) {\n      file.previewElement.classList.add(\"dz-error\");\n      if (typeof message !== \"string\" && message.error) {\n        message = message.error;\n      }\n      for (let node of file.previewElement.querySelectorAll(\n        \"[data-dz-errormessage]\"\n      )) {\n        node.textContent = message;\n      }\n    }\n  },\n\n  errormultiple() {},\n\n  // Called when a file gets processed. Since there is a cue, not all added\n  // files are processed immediately.\n  // Receives `file`\n  processing(file) {\n    if (file.previewElement) {\n      file.previewElement.classList.add(\"dz-processing\");\n      if (file._removeLink) {\n        return (file._removeLink.innerHTML = this.options.dictCancelUpload);\n      }\n    }\n  },\n\n  processingmultiple() {},\n\n  // Called whenever the upload progress gets updated.\n  // Receives `file`, `progress` (percentage 0-100) and `bytesSent`.\n  // To get the total number of bytes of the file, use `file.size`\n  uploadprogress(file, progress, bytesSent) {\n    if (file.previewElement) {\n      for (let node of file.previewElement.querySelectorAll(\n        \"[data-dz-uploadprogress]\"\n      )) {\n        node.nodeName === \"PROGRESS\"\n          ? (node.value = progress)\n          : (node.style.width = `${progress}%`);\n      }\n    }\n  },\n\n  // Called whenever the total upload progress gets updated.\n  // Called with totalUploadProgress (0-100), totalBytes and totalBytesSent\n  totaluploadprogress() {},\n\n  // Called just before the file is sent. Gets the `xhr` object as second\n  // parameter, so you can modify it (for example to add a CSRF token) and a\n  // `formData` object to add additional information.\n  sending() {},\n\n  sendingmultiple() {},\n\n  // When the complete upload is finished and successful\n  // Receives `file`\n  success(file) {\n    if (file.previewElement) {\n      return file.previewElement.classList.add(\"dz-success\");\n    }\n  },\n\n  successmultiple() {},\n\n  // When the upload is canceled.\n  canceled(file) {\n    return this.emit(\"error\", file, this.options.dictUploadCanceled);\n  },\n\n  canceledmultiple() {},\n\n  // When the upload is finished, either with success or an error.\n  // Receives `file`\n  complete(file) {\n    if (file._removeLink) {\n      file._removeLink.innerHTML = this.options.dictRemoveFile;\n    }\n    if (file.previewElement) {\n      return file.previewElement.classList.add(\"dz-complete\");\n    }\n  },\n\n  completemultiple() {},\n\n  maxfilesexceeded() {},\n\n  maxfilesreached() {},\n\n  queuecomplete() {},\n\n  addedfiles() {},\n};\n\nexport default defaultOptions;\n","module.exports = \"a1acf319c471fa03\";","var objectExtend = extend;\n\n/*\n  var obj = {a: 3, b: 5};\n  extend(obj, {a: 4, c: 8}); // {a: 4, b: 5, c: 8}\n  obj; // {a: 4, b: 5, c: 8}\n\n  var obj = {a: 3, b: 5};\n  extend({}, obj, {a: 4, c: 8}); // {a: 4, b: 5, c: 8}\n  obj; // {a: 3, b: 5}\n\n  var arr = [1, 2, 3];\n  var obj = {a: 3, b: 5};\n  extend(obj, {c: arr}); // {a: 3, b: 5, c: [1, 2, 3]}\n  arr.push(4);\n  obj; // {a: 3, b: 5, c: [1, 2, 3, 4]}\n\n  var arr = [1, 2, 3];\n  var obj = {a: 3, b: 5};\n  extend(true, obj, {c: arr}); // {a: 3, b: 5, c: [1, 2, 3]}\n  arr.push(4);\n  obj; // {a: 3, b: 5, c: [1, 2, 3]}\n\n  extend({a: 4, b: 5}); // {a: 4, b: 5}\n  extend({a: 4, b: 5}, 3); {a: 4, b: 5}\n  extend({a: 4, b: 5}, true); {a: 4, b: 5}\n  extend('hello', {a: 4, b: 5}); // throws\n  extend(3, {a: 4, b: 5}); // throws\n*/\n\nfunction extend(/* [deep], obj1, obj2, [objn] */) {\n  var args = [].slice.call(arguments);\n  var deep = false;\n  if (typeof args[0] == 'boolean') {\n    deep = args.shift();\n  }\n  var result = args[0];\n  if (isUnextendable(result)) {\n    throw new Error('extendee must be an object');\n  }\n  var extenders = args.slice(1);\n  var len = extenders.length;\n  for (var i = 0; i < len; i++) {\n    var extender = extenders[i];\n    for (var key in extender) {\n      if (Object.prototype.hasOwnProperty.call(extender, key)) {\n        var value = extender[key];\n        if (deep && isCloneable(value)) {\n          var base = Array.isArray(value) ? [] : {};\n          result[key] = extend(\n            true,\n            Object.prototype.hasOwnProperty.call(result, key) && !isUnextendable(result[key])\n              ? result[key]\n              : base,\n            value\n          );\n        } else {\n          result[key] = value;\n        }\n      }\n    }\n  }\n  return result;\n}\n\nfunction isCloneable(obj) {\n  return Array.isArray(obj) || {}.toString.call(obj) == '[object Object]';\n}\n\nfunction isUnextendable(val) {\n  return !val || (typeof val != 'object' && typeof val != 'function');\n}\n\nexport {objectExtend as default};\n","import { state } from \"../../../state\";\r\n\r\ncustomElements.define(\"pro-el\", class Welcome extends HTMLElement {\r\n    connectedCallback() {\r\n        console.log(\"callbackProfiles\")\r\n        this.render();\r\n        this.addProfiles();\r\n    }\r\n    render() {\r\n        const div = document.createElement(\"div\")\r\n        div.innerHTML = `\r\n        <h2 class=\"title\">Perfiles</h2> \r\n        <div class=\"feed\"></div>      \r\n        `;\r\n        const style = document.createElement(\"style\");\r\n        style.textContent = `\r\n        *{box-sizing:border-box;}\r\n        body {margin:0}\r\n            .root {\r\n                width: 100%;\r\n                font-family: 'Roboto', sans-serif;\r\n                min-height: 667px;\r\n                display: flex;\r\n                flex-direction: column;\r\n                align-items: center;\r\n            }\r\n\r\n            .title {\r\n                font-family: 'Roboto', sans-serif;\r\n                text-align: center;\r\n                font-size: 80;\r\n                background-color: white;\r\n            }\r\n            .feed {\r\n                display: flex;\r\n                flex-direction: column;\r\n                gap: 35px;\r\n                background-color: aquamarine;\r\n                align-items: center;\r\n                height: 100;\r\n                padding: 20px;\r\n                border-radius: 6px;\r\n            }\r\n            .profile {\r\n                display: flex;\r\n                flex-direction: column;\r\n                gap:6px;\r\n               width:100%;\r\n                border: black solid 3px;\r\n                border-radius: 6px;\r\n            }\r\n            .div-img {\r\n                display:flex;\r\n                padding: 5px;\r\n                justify-content: center;\r\n            }\r\n            .img {\r\n                max-height: 80%;\r\n                max-width: 80%;\r\n            }\r\n        `;\r\n        div.classList.add(\"root\"); this.appendChild(div); this.appendChild(style)\r\n    }\r\n    addProfiles() {\r\n        console.log(\"addProfiles\")\r\n        const currentState = state.getState()\r\n        console.log(currentState.profiles)\r\n        currentState.profiles.forEach(p => {\r\n            const div = document.createElement(\"div\");\r\n            div.innerHTML = `\r\n            <div class=\"name\">${p.name}</div>\r\n            <div class=\"bio\">${p.bio}</div>\r\n            <div class=\"div-img\" ><img class=\"img\" src=\"${p.image}\"></a></div>\r\n            `;\r\n            const feedEl = this.querySelector(\".feed\")\r\n            console.log(div)\r\n            div.classList.add(\"profile\")\r\n            feedEl.appendChild(div)\r\n        })\r\n\r\n    }\r\n})"],"names":[],"version":3,"file":"index.2d8a5a52.js.map","sourceRoot":"/__parcel_source_root/"}